<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Dictionnaire">
    <title>Dictionnaire Multilingue</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        :root {
            --primary: #d4a27c;
            --primary-light: #e8c4a8;
            --accent: #c97c5d;
            --bg: #1a1915;
            --card-bg: #2a2722;
            --text: #e8e4de;
            --text-light: #a8a29e;
            --border: #3d3830;
            --input-bg: #1f1d19;
            --italian: #4a9d6b;
            --greek: #6b8fd4;
            --english: #d49b6b;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg);
            color: var(--text);
            min-height: 100vh;
            padding-bottom: 70px;
        }

        header {
            background: var(--card-bg);
            color: var(--text);
            padding: 12px 12px 10px;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
            border-bottom: 1px solid var(--border);
        }

        h1 {
            font-size: 17px;
            font-weight: 600;
            margin-bottom: 2px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .version {
            font-size: 11px;
            font-weight: 400;
            color: var(--text-light);
        }

        .subtitle {
            font-size: 10px;
            opacity: 0.85;
        }

        .search-container {
            margin-top: 8px;
            position: relative;
        }

        #search {
            width: 100%;
            padding: 8px 12px 8px 32px;
            border: 1px solid var(--border);
            border-radius: 8px;
            font-size: 14px;
            background: var(--input-bg);
            color: var(--text);
        }

        #search::placeholder {
            color: var(--text-light);
        }

        #search:focus {
            outline: none;
            border-color: var(--primary);
        }

        .search-icon {
            position: absolute;
            left: 10px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-light);
            font-size: 14px;
        }

        .filters {
            display: flex;
            gap: 6px;
            padding: 8px 12px;
            background: var(--card-bg);
            border-bottom: 1px solid var(--border);
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
            position: sticky;
            top: 85px;
            z-index: 99;
        }

        .filter-btn {
            padding: 5px 10px;
            border-radius: 14px;
            font-size: 11px;
            font-weight: 500;
            border: 1px solid var(--border);
            background: var(--input-bg);
            color: var(--text-light);
            cursor: pointer;
            white-space: nowrap;
            transition: all 0.2s;
        }

        .filter-btn.active {
            background: var(--primary);
            color: var(--bg);
            border-color: var(--primary);
        }

        .filter-btn .flag {
            margin-right: 3px;
        }

        .sort-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 6px 12px;
            background: var(--card-bg);
            border-bottom: 1px solid var(--border);
            position: sticky;
            top: 125px;
            z-index: 98;
        }

        .sort-row select {
            padding: 4px 8px;
            border-radius: 5px;
            border: 1px solid var(--border);
            background: var(--input-bg);
            color: var(--text);
            font-size: 11px;
        }

        .stats {
            display: flex;
            gap: 10px;
            font-size: 11px;
            color: var(--text-light);
        }

        .stat-item {
            display: flex;
            align-items: center;
            gap: 3px;
        }

        .content {
            padding: 8px;
        }

        .word-card {
            background: var(--card-bg);
            border-radius: 10px;
            padding: 10px 12px;
            margin-bottom: 6px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
            border: 1px solid var(--border);
        }

        .word-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 4px;
        }

        .french-word {
            font-size: 16px;
            font-weight: 600;
            color: var(--primary);
            text-transform: uppercase;
        }

        .category-badge {
            display: inline-block;
            font-size: 9px;
            padding: 2px 6px;
            background: var(--border);
            color: var(--primary-light);
            border-radius: 3px;
            margin-left: 6px;
            font-weight: 500;
            text-transform: lowercase;
            vertical-align: middle;
        }

        .gender-badge {
            font-size: 9px;
            padding: 2px 5px;
            border-radius: 3px;
            margin-left: 4px;
            font-weight: 500;
        }

        .gender-m { background: rgba(107, 143, 212, 0.2); color: #7cb3d9; }
        .gender-f { background: rgba(217, 155, 201, 0.2); color: #d99bc9; }
        .gender-n { background: rgba(168, 212, 160, 0.2); color: #a8d4a0; }

        .translation-section {
            margin-top: 6px;
            padding: 8px 10px;
            background: var(--input-bg);
            border-radius: 6px;
            border-left: 2px solid var(--border);
        }

        .translation-section.italian {
            border-left-color: var(--italian);
        }

        .translation-section.greek {
            border-left-color: var(--greek);
        }

        .translation-section.english {
            border-left-color: var(--english);
        }

        .translation-header {
            display: flex;
            align-items: center;
            gap: 5px;
            margin-bottom: 4px;
        }

        .lang-flag {
            font-size: 12px;
        }

        .lang-label {
            font-size: 9px;
            text-transform: uppercase;
            color: var(--text-light);
            font-weight: 600;
            letter-spacing: 0.3px;
        }

        .translation-word {
            font-size: 14px;
            font-weight: 500;
            color: var(--text);
        }

        .romanized {
            font-size: 11px;
            color: var(--text-light);
            font-style: italic;
            margin-left: 6px;
        }

        .meaning {
            font-size: 11px;
            color: var(--text-light);
            margin-top: 3px;
            line-height: 1.3;
        }

        .grammar-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 4px;
            margin-top: 4px;
        }

        .grammar-tag {
            font-size: 9px;
            padding: 2px 5px;
            background: rgba(255,255,255,0.05);
            color: var(--text-light);
            border-radius: 3px;
            font-weight: 500;
        }

        .conjugation-toggle {
            display: flex;
            align-items: center;
            gap: 4px;
            margin-top: 6px;
            padding: 4px 8px;
            background: transparent;
            border: 1px solid var(--border);
            border-radius: 4px;
            color: var(--text-light);
            font-size: 10px;
            cursor: pointer;
            transition: all 0.2s;
        }

        .conjugation-toggle:hover {
            background: var(--border);
        }

        .conjugation-toggle .arrow {
            transition: transform 0.2s;
            font-size: 8px;
        }

        .conjugation-toggle.open .arrow {
            transform: rotate(180deg);
        }

        .conjugation-table {
            display: none;
            margin-top: 6px;
            border-radius: 4px;
            overflow: hidden;
            border: 1px solid var(--border);
        }

        .conjugation-table.open {
            display: block;
        }

        .conjugation-table table {
            width: 100%;
            border-collapse: collapse;
            font-size: 10px;
        }

        .conjugation-table th,
        .conjugation-table td {
            padding: 4px 6px;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }

        .conjugation-table th {
            background: var(--border);
            color: var(--text-light);
            font-weight: 500;
            font-size: 9px;
            text-transform: uppercase;
        }

        .conjugation-table td {
            background: var(--card-bg);
        }

        .conjugation-table td:first-child {
            color: var(--text-light);
            font-size: 9px;
            width: 40px;
        }

        .conjugation-table tr:last-child td {
            border-bottom: none;
        }

        .example-sentence {
            margin-top: 6px;
            padding: 6px 8px;
            background: rgba(255,255,255,0.03);
            border-radius: 4px;
        }

        .example-text {
            font-size: 12px;
            color: var(--text);
            line-height: 1.4;
        }

        .example-text .word-link {
            color: var(--primary-light);
            text-decoration: none;
            border-bottom: 1px dotted var(--primary);
            cursor: pointer;
        }

        .example-text .word-link.current {
            color: var(--accent);
            font-weight: 600;
            border-bottom: none;
        }

        .example-translation {
            font-size: 10px;
            color: var(--text-light);
            font-style: italic;
            margin-top: 2px;
        }

        .word-actions {
            display: flex;
            gap: 4px;
        }

        .action-btn {
            background: none;
            border: none;
            font-size: 16px;
            cursor: pointer;
            padding: 2px;
            color: var(--text-light);
            transition: all 0.2s;
        }

        .action-btn.favorite.active {
            color: #e07b5d;
        }

        .add-btn {
            position: fixed;
            bottom: 16px;
            right: 14px;
            width: 46px;
            height: 46px;
            border-radius: 50%;
            background: var(--accent);
            color: var(--bg);
            border: none;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 3px 12px rgba(201,124,93,0.4);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 100;
        }

        .menu-btn {
            position: fixed;
            bottom: 16px;
            left: 14px;
            width: 46px;
            height: 46px;
            border-radius: 50%;
            background: var(--card-bg);
            color: var(--text);
            border: 1px solid var(--border);
            font-size: 18px;
            cursor: pointer;
            box-shadow: 0 3px 12px rgba(0,0,0,0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 100;
        }

        .menu-popup {
            display: none;
            position: fixed;
            bottom: 70px;
            left: 14px;
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 10px;
            padding: 6px 0;
            min-width: 180px;
            box-shadow: 0 6px 24px rgba(0,0,0,0.4);
            z-index: 101;
        }

        .menu-popup.active {
            display: block;
        }

        .menu-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px 14px;
            color: var(--text);
            font-size: 12px;
            cursor: pointer;
            transition: background 0.2s;
            border: none;
            background: none;
            width: 100%;
            text-align: left;
        }

        .menu-item:hover {
            background: var(--border);
        }

        .menu-item-icon {
            font-size: 14px;
            width: 20px;
            text-align: center;
        }

        .menu-divider {
            height: 1px;
            background: var(--border);
            margin: 4px 0;
        }

        .file-input {
            display: none;
        }

        .toast {
            position: fixed;
            bottom: 80px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--card-bg);
            color: var(--text);
            padding: 10px 18px;
            border-radius: 6px;
            border: 1px solid var(--border);
            box-shadow: 0 4px 16px rgba(0,0,0,0.3);
            z-index: 300;
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 12px;
        }

        .toast.show {
            opacity: 1;
        }

        .toast.success {
            border-color: var(--italian);
        }

        .toast.error {
            border-color: var(--accent);
        }

        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.7);
            z-index: 200;
            align-items: flex-end;
            justify-content: center;
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal {
            background: var(--card-bg);
            width: 100%;
            max-width: 500px;
            border-radius: 16px 16px 0 0;
            padding: 16px 16px 30px;
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal h2 {
            font-size: 15px;
            margin-bottom: 14px;
            color: var(--primary-light);
        }

        .form-group {
            margin-bottom: 10px;
        }

        .form-group label {
            display: block;
            font-size: 10px;
            font-weight: 500;
            margin-bottom: 4px;
            color: var(--text-light);
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 8px 10px;
            border: 1px solid var(--border);
            border-radius: 6px;
            font-size: 13px;
            background: var(--input-bg);
            color: var(--text);
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--primary);
        }

        .form-row {
            display: flex;
            gap: 8px;
        }

        .form-row .form-group {
            flex: 1;
        }

        .lang-section {
            margin-top: 10px;
            padding: 10px;
            background: var(--input-bg);
            border-radius: 6px;
            border-left: 2px solid var(--border);
        }

        .lang-section.italian { border-left-color: var(--italian); }
        .lang-section.greek { border-left-color: var(--greek); }
        .lang-section.english { border-left-color: var(--english); }

        .lang-section-header {
            display: flex;
            align-items: center;
            gap: 6px;
            margin-bottom: 8px;
            font-weight: 600;
            font-size: 11px;
        }

        .modal-actions {
            display: flex;
            gap: 10px;
            margin-top: 14px;
        }

        .btn {
            flex: 1;
            padding: 10px;
            border-radius: 8px;
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            border: none;
        }

        .btn-primary {
            background: var(--accent);
            color: var(--bg);
        }

        .btn-secondary {
            background: var(--border);
            color: var(--text);
        }

        .empty-state {
            text-align: center;
            padding: 40px 16px;
            color: var(--text-light);
        }

        .empty-state-icon {
            font-size: 36px;
            margin-bottom: 12px;
        }

        /* Review badge for auto-generated entries */
        .review-badge {
            display: inline-block;
            font-size: 8px;
            padding: 1px 4px;
            background: #d97706;
            color: white;
            border-radius: 3px;
            margin-left: 4px;
            font-weight: 600;
            vertical-align: middle;
        }

        /* Paragraph/Textes styles */
        .paragraph-card {
            background: var(--card-bg);
            border-radius: 10px;
            padding: 12px;
            margin-bottom: 8px;
            border: 1px solid var(--border);
            border-left: 3px solid var(--primary);
        }

        .paragraph-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
            font-size: 10px;
            color: var(--text-light);
        }

        .paragraph-lang {
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .paragraph-text {
            line-height: 1.8;
            font-size: 15px;
        }

        .word-token {
            display: inline;
            cursor: pointer;
            padding: 2px 1px;
            border-radius: 3px;
            transition: background 0.2s;
        }

        .word-token:hover {
            background: var(--border);
        }

        .word-token.linked {
            color: var(--primary);
            text-decoration: underline;
            text-decoration-style: dotted;
            text-underline-offset: 3px;
        }

        .word-token.no-link {
            color: var(--text-light);
            font-style: italic;
        }

        /* Word detail view (when clicking from paragraph) */
        .word-detail-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: var(--bg);
            z-index: 200;
            overflow-y: auto;
            padding: 16px;
            display: none;
        }

        .word-detail-overlay.active {
            display: block;
        }

        .back-btn {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 8px 12px;
            background: var(--card-bg);
            border: 1px solid var(--border);
            border-radius: 8px;
            color: var(--text);
            font-size: 13px;
            cursor: pointer;
            margin-bottom: 16px;
        }

        .back-btn:hover {
            background: var(--border);
        }

        .paragraph-context {
            background: var(--card-bg);
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 12px;
            border-left: 3px solid var(--primary);
        }

        .paragraph-context .context-title {
            font-size: 11px;
            color: var(--text-light);
            margin-bottom: 8px;
            font-weight: 500;
        }

        .paragraph-context .context-text {
            font-size: 14px;
            line-height: 1.9;
            color: var(--text);
        }

        .paragraph-context .word-token {
            cursor: pointer;
            padding: 2px 3px;
            border-radius: 3px;
            transition: all 0.15s;
        }

        .paragraph-context .word-token:hover {
            background: var(--border);
        }

        .paragraph-context .word-token.highlight {
            background: var(--primary);
            color: var(--bg);
            font-weight: 600;
        }

        .paragraph-context .word-token.linked:not(.highlight) {
            color: var(--primary-light);
            text-decoration: underline;
            text-decoration-style: dotted;
            text-underline-offset: 3px;
        }

        .paragraph-context .word-token.no-link:not(.highlight) {
            color: var(--text-light);
        }

        /* Form info box for grammatical details */
        .form-info-box {
            background: linear-gradient(135deg, var(--card-bg) 0%, rgba(212, 162, 124, 0.1) 100%);
            border: 1px solid var(--primary);
            border-radius: 8px;
            padding: 10px 12px;
            margin-bottom: 12px;
        }

        .form-info-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 6px;
        }

        .form-info-form {
            font-size: 18px;
            font-weight: 600;
            color: var(--primary);
        }

        .form-info-arrow {
            color: var(--text-light);
            font-size: 14px;
        }

        .form-info-lemma {
            font-size: 14px;
            color: var(--text-light);
            font-style: italic;
        }

        .form-info-details {
            font-size: 13px;
            color: var(--text);
            background: var(--bg);
            padding: 6px 10px;
            border-radius: 4px;
            border-left: 3px solid var(--greek);
        }

        /* Navigation tabs */
        .nav-tabs {
            display: flex;
            background: var(--card-bg);
            border-bottom: 1px solid var(--border);
        }

        .nav-tab {
            flex: 1;
            padding: 12px 16px;
            border: none;
            background: transparent;
            color: var(--text-light);
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            border-bottom: 2px solid transparent;
        }

        .nav-tab.active {
            color: var(--primary);
            border-bottom-color: var(--primary);
        }

        .nav-tab:hover:not(.active) {
            color: var(--text);
        }

        /* Text cards on main page */
        .text-card {
            background: var(--card-bg);
            border-radius: 10px;
            padding: 14px;
            margin-bottom: 10px;
            border: 1px solid var(--border);
            cursor: pointer;
            transition: all 0.2s;
        }

        .text-card:hover {
            border-color: var(--primary);
        }

        .text-card-header {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            margin-bottom: 8px;
        }

        .text-num {
            display: inline-block;
            width: 28px;
            height: 28px;
            line-height: 28px;
            text-align: center;
            background: var(--primary);
            color: var(--bg);
            border-radius: 50%;
            font-size: 13px;
            font-weight: 600;
            flex-shrink: 0;
        }

        .text-card-info {
            flex: 1;
        }

        .text-card-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 4px;
        }

        .text-card-author {
            font-size: 12px;
            color: var(--text-light);
            font-style: italic;
            margin-bottom: 8px;
        }

        .text-card-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 11px;
            color: var(--text-light);
        }

        .text-card-langs {
            display: flex;
            align-items: center;
            gap: 4px;
        }

        /* Sentence display */
        .sentence-card {
            background: var(--card-bg);
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 8px;
            border: 1px solid var(--border);
        }

        .sentence-num {
            display: inline-block;
            width: 24px;
            height: 24px;
            line-height: 24px;
            text-align: center;
            background: var(--primary);
            color: var(--bg);
            border-radius: 50%;
            font-size: 11px;
            font-weight: 600;
            margin-right: 10px;
            flex-shrink: 0;
        }

        .sentence-content {
            display: flex;
            align-items: flex-start;
        }

        .sentence-text-area {
            flex: 1;
        }

        .sentence-source {
            font-size: 15px;
            line-height: 1.8;
            margin-bottom: 8px;
        }

        .sentence-translation {
            font-size: 13px;
            color: var(--text-light);
            font-style: italic;
            padding-left: 10px;
            border-left: 2px solid var(--border);
        }

        /* Sentence context in word detail */
        .sentence-context-box {
            background: var(--card-bg);
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 12px;
            border: 1px solid var(--border);
        }

        .sentence-context-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 10px;
        }

        .sentence-context-source {
            font-size: 15px;
            line-height: 1.8;
            margin-bottom: 8px;
        }

        .sentence-context-gloss {
            font-size: 12px;
            color: var(--text-light);
            font-style: italic;
            margin-bottom: 8px;
            padding: 6px 0;
            border-bottom: 1px dashed var(--border);
        }

        .sentence-context-translation {
            font-size: 13px;
            color: var(--text);
            background: rgba(212, 162, 124, 0.1);
            padding: 8px 10px;
            border-radius: 6px;
            border-left: 3px solid var(--primary);
        }

        /* Word definition block in text detail */
        .word-definition-block {
            background: var(--card-bg);
            border-radius: 8px;
            padding: 14px;
            border: 1px solid var(--border);
        }

        .definition-form-header {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 12px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--border);
            font-size: 16px;
        }

        .definition-form-header .form-info-form {
            font-weight: 600;
            color: var(--greek);
        }

        .definition-form-header .form-info-arrow {
            color: var(--text-light);
        }

        .definition-form-header .form-info-lemma {
            color: var(--text);
        }

        .definition-translation,
        .definition-meaning,
        .definition-usage {
            margin-bottom: 10px;
        }

        .definition-translation:last-child,
        .definition-meaning:last-child,
        .definition-usage:last-child {
            margin-bottom: 0;
        }

        .definition-label {
            font-size: 11px;
            color: var(--text-light);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            display: block;
            margin-bottom: 3px;
        }

        .definition-value {
            font-size: 14px;
            color: var(--text);
        }

        .definition-translation .definition-value {
            font-size: 16px;
            font-weight: 500;
            color: var(--primary);
        }

        .definition-usage .definition-value {
            font-size: 13px;
            font-style: italic;
        }

        /* Text header when viewing a text */
        .text-header {
            background: var(--card-bg);
            padding: 12px;
            border-bottom: 1px solid var(--border);
            position: sticky;
            top: 85px;
            z-index: 98;
        }

        .text-header-title {
            font-size: 15px;
            font-weight: 600;
            color: var(--primary);
        }

        .text-header-meta {
            font-size: 11px;
            color: var(--text-light);
            margin-top: 2px;
        }

        .back-to-texts {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            font-size: 12px;
            color: var(--text-light);
            margin-bottom: 6px;
            cursor: pointer;
        }

        .back-to-texts:hover {
            color: var(--primary);
        }

        /* Appears in - dictionary cross-references */
        .appears-in {
            margin-top: 10px;
            padding-top: 10px;
            border-top: 1px solid var(--border);
            font-size: 12px;
            color: var(--text-light);
        }

        .appears-in-label {
            margin-right: 6px;
        }

        .appears-in-link {
            color: var(--primary);
            cursor: pointer;
            text-decoration: none;
        }

        .appears-in-link:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <header>
        <h1>Lecteur Multilingue <span class="version" id="app-version"></span></h1>
        <p class="subtitle">Textes en Francais, Italien, Grec Ancien, Anglais</p>
        <div class="search-container" id="search-container" style="display: none;">
            <span class="search-icon">&#128269;</span>
            <input type="text" id="search" placeholder="Rechercher dans le dictionnaire...">
        </div>
    </header>

    <div class="nav-tabs">
        <button class="nav-tab active" data-view="texts">&#128220; Textes</button>
        <button class="nav-tab" data-view="dictionary">&#128218; Dictionnaire</button>
    </div>

    <div class="sort-row" id="dict-controls" style="display: none;">
        <div class="stats">
            <span class="stat-item"><span id="total-count">0</span> mots</span>
            <span class="stat-item">&#127470;&#127481; <span id="italian-count">0</span></span>
            <span class="stat-item">&#127468;&#127479; <span id="greek-count">0</span></span>
        </div>
        <select id="sort-select">
            <option value="alpha-asc">A → Z</option>
            <option value="alpha-desc">Z → A</option>
            <option value="category">Categorie</option>
        </select>
    </div>

    <div class="content" id="word-list"></div>

    <button class="add-btn" id="add-btn">+</button>

    <button class="menu-btn" id="menu-btn">&#9776;</button>
    <div class="menu-popup" id="menu-popup">
        <button class="menu-item" onclick="exportData()">
            <span class="menu-item-icon">&#128190;</span>
            Exporter (JSON)
        </button>
        <button class="menu-item" onclick="triggerImport()">
            <span class="menu-item-icon">&#128194;</span>
            Importer une sauvegarde
        </button>
        <div class="menu-divider"></div>
        <button class="menu-item" onclick="exportCustomOnly()">
            <span class="menu-item-icon">&#9998;</span>
            Exporter mots perso
        </button>
        <div class="menu-divider"></div>
        <button class="menu-item" onclick="showStats()">
            <span class="menu-item-icon">&#128202;</span>
            Statistiques
        </button>
    </div>
    <input type="file" id="import-input" class="file-input" accept=".json" onchange="importData(event)">
    <div class="toast" id="toast"></div>

    <!-- Word detail overlay (for paragraph word clicks) -->
    <div class="word-detail-overlay" id="word-detail-overlay">
        <button class="back-btn" onclick="closeWordDetail()">
            &#8592; Retour au texte
        </button>
        <div class="paragraph-context" id="paragraph-context"></div>
        <div id="word-detail-content"></div>
    </div>

    <div class="modal-overlay" id="modal">
        <div class="modal">
            <h2 id="modal-title">Ajouter un mot</h2>

            <div class="form-group">
                <label>Mot francais *</label>
                <input type="text" id="input-french" placeholder="ex: aimer">
            </div>

            <div class="form-row">
                <div class="form-group">
                    <label>Categorie</label>
                    <select id="input-category">
                        <option value="nom">Nom</option>
                        <option value="verbe">Verbe</option>
                        <option value="adjectif">Adjectif</option>
                        <option value="adverbe">Adverbe</option>
                        <option value="preposition">Preposition</option>
                        <option value="conjonction">Conjonction</option>
                        <option value="expression">Expression</option>
                        <option value="autre">Autre</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Genre</label>
                    <select id="input-gender">
                        <option value="">-</option>
                        <option value="m">Masculin</option>
                        <option value="f">Feminin</option>
                        <option value="n">Neutre</option>
                    </select>
                </div>
            </div>

            <div class="lang-section italian">
                <div class="lang-section-header">
                    <span>&#127470;&#127481;</span> Italien
                </div>
                <div class="form-group">
                    <label>Traduction italienne</label>
                    <input type="text" id="input-italian" placeholder="ex: amare">
                </div>
            </div>

            <div class="lang-section greek">
                <div class="lang-section-header">
                    <span>&#127468;&#127479;</span> Grec ancien
                </div>
                <div class="form-group">
                    <label>Traduction grecque</label>
                    <input type="text" id="input-greek" placeholder="ex: φιλέω">
                </div>
                <div class="form-group">
                    <label>Romanisation</label>
                    <input type="text" id="input-romanized" placeholder="ex: phileo">
                </div>
                <div class="form-group">
                    <label>Sens (anglais)</label>
                    <input type="text" id="input-greek-meaning" placeholder="ex: I love, am fond of">
                </div>
            </div>

            <div class="lang-section english">
                <div class="lang-section-header">
                    <span>&#127468;&#127463;</span> Anglais
                </div>
                <div class="form-group">
                    <label>Traduction anglaise</label>
                    <input type="text" id="input-english" placeholder="ex: to love">
                </div>
            </div>

            <div class="modal-actions">
                <button class="btn btn-secondary" id="cancel-btn">Annuler</button>
                <button class="btn btn-primary" id="save-btn">Enregistrer</button>
            </div>
        </div>
    </div>

    <script>
        // ==================== DATA ====================
        const DICT_VERSION = 11;

        // Default dictionary entries
        // Structure: French as primary, translations as object
        const defaultWords = [
            // ===== GREEK-DERIVED ENTRIES =====
            { id: 1, french: "parole", category: "nom", gender: "f", translations: { greek: { word: "λόγος", romanized: "logos", meaning: "Word, reason, speech, logic. One of the most important Greek philosophical terms.", declension: "2nd", gender: "m", conjugation: null, example: { words: [{t:"ὁ",id:null},{t:"λόγος",id:1},{t:"ἀλήθειαν",id:11},{t:"φέρει",id:53}], translation: "The word brings truth." } }, italian: { word: "parola", gender: "f", conjugation: null }, english: { word: "word" } } },
            { id: 2, french: "sagesse", category: "nom", gender: "f", translations: { greek: { word: "σοφία", romanized: "sophia", meaning: "Wisdom. The root of 'philosophy' (love of wisdom).", declension: "1st", gender: "f", conjugation: null, example: { words: [{t:"ἡ",id:null},{t:"σοφία",id:2},{t:"ἀρετή",id:3},{t:"ἐστιν",id:47}], translation: "Wisdom is virtue." } }, italian: { word: "saggezza", gender: "f", conjugation: null }, english: { word: "wisdom" } } },
            { id: 3, french: "vertu", category: "nom", gender: "f", translations: { greek: { word: "ἀρετή", romanized: "arete", meaning: "Excellence, virtue, moral goodness. Living up to one's full potential.", declension: "1st", gender: "f", conjugation: null, example: { words: [{t:"ἀρετὴν",id:3},{t:"ζητοῦμεν",id:60},{t:"ἐν",id:null},{t:"τῇ",id:null},{t:"ψυχῇ",id:9}], translation: "We seek virtue in the soul." } }, italian: { word: "virtu", gender: "f", conjugation: null }, english: { word: "virtue" } } },
            { id: 4, french: "cite", category: "nom", gender: "f", translations: { greek: { word: "πόλις", romanized: "polis", meaning: "City-state. The fundamental political unit of ancient Greece.", declension: "3rd", gender: "f", conjugation: null, example: { words: [{t:"ἡ",id:null},{t:"πόλις",id:4},{t:"νόμους",id:34},{t:"ἔχει",id:46}], translation: "The city has laws." } }, italian: { word: "citta", gender: "f", conjugation: null }, english: { word: "city" } } },
            { id: 5, french: "amour", category: "nom", gender: "m", translations: { greek: { word: "ἀγάπη", romanized: "agape", meaning: "Unconditional love, divine love, selfless love for others.", declension: "1st", gender: "f", conjugation: null, example: { words: [{t:"ἡ",id:null},{t:"ἀγάπη",id:5},{t:"τοῦ",id:null},{t:"θεοῦ",id:14},{t:"μένει",id:null}], translation: "The love of God remains." } }, italian: { word: "amore", gender: "m", conjugation: null }, english: { word: "love" } } },
            { id: 6, french: "desir", category: "nom", gender: "m", translations: { greek: { word: "ἔρως", romanized: "eros", meaning: "Romantic love, desire, passionate love.", declension: "3rd", gender: "m", conjugation: null }, italian: { word: "desiderio", gender: "m", conjugation: null }, english: { word: "desire" } } },
            { id: 7, french: "amitie", category: "nom", gender: "f", translations: { greek: { word: "φιλία", romanized: "philia", meaning: "Friendship, brotherly love, affection between friends.", declension: "1st", gender: "f", conjugation: null, example: { words: [{t:"φιλία",id:7},{t:"ἀγαθόν",id:13},{t:"ἐστιν",id:47}], translation: "Friendship is good." } }, italian: { word: "amicizia", gender: "f", conjugation: null }, english: { word: "friendship" } } },
            { id: 8, french: "affection", category: "nom", gender: "f", translations: { greek: { word: "στοργή", romanized: "storge", meaning: "Family love, natural affection, especially between parents and children.", declension: "1st", gender: "f", conjugation: null }, english: { word: "affection" } } },
            { id: 9, french: "ame", category: "nom", gender: "f", translations: { greek: { word: "ψυχή", romanized: "psyche", meaning: "Soul, mind, spirit, breath of life.", declension: "1st", gender: "f", conjugation: null, example: { words: [{t:"ἡ",id:null},{t:"ψυχὴ",id:9},{t:"ἀλήθειαν",id:11},{t:"ζητεῖ",id:60}], translation: "The soul seeks truth." } }, italian: { word: "anima", gender: "f", conjugation: null }, english: { word: "soul" } } },
            { id: 10, french: "esprit", category: "nom", gender: "m", translations: { greek: { word: "νοῦς", romanized: "nous", meaning: "Mind, intellect, reason, understanding.", declension: "2nd", gender: "m", conjugation: null, example: { words: [{t:"ὁ",id:null},{t:"νοῦς",id:10},{t:"γιγνώσκει",id:54},{t:"τὴν",id:null},{t:"ἀλήθειαν",id:11}], translation: "The mind knows the truth." } }, english: { word: "mind" } } },
            { id: 11, french: "verite", category: "nom", gender: "f", translations: { greek: { word: "ἀλήθεια", romanized: "aletheia", meaning: "Truth, disclosure, unconcealment.", declension: "1st", gender: "f", conjugation: null, example: { words: [{t:"ἀλήθειαν",id:11},{t:"λέγομεν",id:45}], translation: "We speak the truth." } }, italian: { word: "verita", gender: "f", conjugation: null }, english: { word: "truth" } } },
            { id: 12, french: "beau", category: "adjectif", gender: "m", translations: { greek: { word: "καλός", romanized: "kalos", meaning: "Beautiful, noble, good.", declension: "1st/2nd", gender: "m/f/n", conjugation: null, example: { words: [{t:"ὁ",id:null},{t:"κόσμος",id:15},{t:"καλός",id:12},{t:"ἐστιν",id:47}], translation: "The world is beautiful." } }, italian: { word: "bello", gender: "m", conjugation: null }, english: { word: "beautiful" } } },
            { id: 13, french: "bon", category: "adjectif", gender: "m", translations: { greek: { word: "ἀγαθός", romanized: "agathos", meaning: "Good, noble, brave, capable.", declension: "1st/2nd", gender: "m/f/n", conjugation: null, example: { words: [{t:"ὁ",id:null},{t:"ἄνθρωπος",id:17},{t:"ἀγαθός",id:13},{t:"ἐστιν",id:47}], translation: "The human is good." } }, italian: { word: "buono", gender: "m", conjugation: null }, english: { word: "good" } } },
            { id: 14, french: "dieu", category: "nom", gender: "m", translations: { greek: { word: "θεός", romanized: "theos", meaning: "God, deity, divine being.", declension: "2nd", gender: "m", conjugation: null, example: { words: [{t:"ὁ",id:null},{t:"θεὸς",id:14},{t:"τὸν",id:null},{t:"κόσμον",id:15},{t:"ποιεῖ",id:52}], translation: "God creates the world." } }, italian: { word: "dio", gender: "m", conjugation: null }, english: { word: "god" } } },
            { id: 15, french: "monde", category: "nom", gender: "m", translations: { greek: { word: "κόσμος", romanized: "kosmos", meaning: "Order, world, universe.", declension: "2nd", gender: "m", conjugation: null }, italian: { word: "mondo", gender: "m", conjugation: null }, english: { word: "world" } } },
            { id: 16, french: "chaos", category: "nom", gender: "m", translations: { greek: { word: "χάος", romanized: "chaos", meaning: "Void, chasm, the primordial state before creation.", declension: "2nd", gender: "n", conjugation: null }, english: { word: "chaos" } } },
            { id: 17, french: "homme", category: "nom", gender: "m", translations: { greek: { word: "ἄνθρωπος", romanized: "anthropos", meaning: "Human being, person, mankind.", declension: "2nd", gender: "m", conjugation: null, example: { words: [{t:"ὁ",id:null},{t:"ἄνθρωπος",id:17},{t:"σοφίαν",id:2},{t:"φιλεῖ",id:59}], translation: "The human loves wisdom." } }, italian: { word: "uomo", gender: "m", conjugation: null }, english: { word: "human" } } },
            { id: 18, french: "peuple", category: "nom", gender: "m", translations: { greek: { word: "δῆμος", romanized: "demos", meaning: "The people, the common people, the populace.", declension: "2nd", gender: "m", conjugation: null }, italian: { word: "popolo", gender: "m", conjugation: null }, english: { word: "people" } } },
            { id: 19, french: "pouvoir", category: "nom", gender: "m", translations: { greek: { word: "κράτος", romanized: "kratos", meaning: "Power, strength, rule, authority.", declension: "3rd", gender: "n", conjugation: null }, italian: { word: "potere", gender: "m", conjugation: null }, english: { word: "power" } } },
            { id: 20, french: "democratie", category: "nom", gender: "f", translations: { greek: { word: "δημοκρατία", romanized: "demokratia", meaning: "Democracy - rule by the people (demos + kratos).", declension: "1st", gender: "f", conjugation: null }, italian: { word: "democrazia", gender: "f", conjugation: null }, english: { word: "democracy" } } },
            { id: 21, french: "art", category: "nom", gender: "m", translations: { greek: { word: "τέχνη", romanized: "techne", meaning: "Art, skill, craft, technique. The root of 'technology'.", declension: "1st", gender: "f", conjugation: null }, italian: { word: "arte", gender: "f", conjugation: null }, english: { word: "art" } } },
            { id: 22, french: "science", category: "nom", gender: "f", translations: { greek: { word: "ἐπιστήμη", romanized: "episteme", meaning: "Knowledge, science, systematic understanding.", declension: "1st", gender: "f", conjugation: null }, italian: { word: "scienza", gender: "f", conjugation: null }, english: { word: "science" } } },
            { id: 23, french: "opinion", category: "nom", gender: "f", translations: { greek: { word: "δόξα", romanized: "doxa", meaning: "Opinion, belief, glory, reputation.", declension: "1st", gender: "f", conjugation: null }, italian: { word: "opinione", gender: "f", conjugation: null }, english: { word: "opinion" } } },
            { id: 24, french: "bonheur", category: "nom", gender: "m", translations: { greek: { word: "εὐδαιμονία", romanized: "eudaimonia", meaning: "Happiness, flourishing, well-being. The ultimate goal of life in Greek ethics.", declension: "1st", gender: "f", conjugation: null }, italian: { word: "felicita", gender: "f", conjugation: null }, english: { word: "happiness" } } },
            { id: 25, french: "caractere", category: "nom", gender: "m", translations: { greek: { word: "ἦθος", romanized: "ethos", meaning: "Character, custom, habit. The root of 'ethics'.", declension: "3rd", gender: "n", conjugation: null }, italian: { word: "carattere", gender: "m", conjugation: null }, english: { word: "character" } } },
            { id: 26, french: "passion", category: "nom", gender: "f", translations: { greek: { word: "πάθος", romanized: "pathos", meaning: "Suffering, experience, emotion, passion.", declension: "3rd", gender: "n", conjugation: null }, italian: { word: "passione", gender: "f", conjugation: null }, english: { word: "passion" } } },
            { id: 27, french: "orgueil", category: "nom", gender: "m", translations: { greek: { word: "ὕβρις", romanized: "hubris", meaning: "Excessive pride, arrogance against the gods.", declension: "3rd", gender: "f", conjugation: null }, english: { word: "hubris" } } },
            { id: 28, french: "chatiment", category: "nom", gender: "m", translations: { greek: { word: "νέμεσις", romanized: "nemesis", meaning: "Righteous anger, divine retribution, just punishment.", declension: "3rd", gender: "f", conjugation: null }, english: { word: "nemesis" } } },
            { id: 29, french: "moment", category: "nom", gender: "m", translations: { greek: { word: "καιρός", romanized: "kairos", meaning: "The right moment, opportune time, critical time.", declension: "2nd", gender: "m", conjugation: null }, italian: { word: "momento", gender: "m", conjugation: null }, english: { word: "moment" } } },
            { id: 30, french: "temps", category: "nom", gender: "m", translations: { greek: { word: "χρόνος", romanized: "chronos", meaning: "Time (sequential, quantitative time).", declension: "2nd", gender: "m", conjugation: null }, italian: { word: "tempo", gender: "m", conjugation: null }, english: { word: "time" } } },
            { id: 31, french: "commencement", category: "nom", gender: "m", translations: { greek: { word: "ἀρχή", romanized: "arche", meaning: "Beginning, origin, first principle, sovereignty.", declension: "1st", gender: "f", conjugation: null, example: { words: [{t:"ἐν",id:null},{t:"ἀρχῇ",id:31},{t:"ἦν",id:47},{t:"ὁ",id:null},{t:"λόγος",id:1}], translation: "In the beginning was the word." } }, italian: { word: "inizio", gender: "m", conjugation: null }, english: { word: "beginning" } } },
            { id: 32, french: "but", category: "nom", gender: "m", translations: { greek: { word: "τέλος", romanized: "telos", meaning: "End, goal, purpose, fulfillment.", declension: "3rd", gender: "n", conjugation: null }, italian: { word: "scopo", gender: "m", conjugation: null }, english: { word: "goal" } } },
            { id: 33, french: "chose", category: "nom", gender: "f", translations: { greek: { word: "πρᾶγμα", romanized: "pragma", meaning: "Thing, matter, affair, deed.", declension: "3rd", gender: "n", conjugation: null }, italian: { word: "cosa", gender: "f", conjugation: null }, english: { word: "thing" } } },
            { id: 34, french: "loi", category: "nom", gender: "f", translations: { greek: { word: "νόμος", romanized: "nomos", meaning: "Law, custom, convention.", declension: "2nd", gender: "m", conjugation: null }, italian: { word: "legge", gender: "f", conjugation: null }, english: { word: "law" } } },
            { id: 35, french: "maison", category: "nom", gender: "f", translations: { greek: { word: "οἶκος", romanized: "oikos", meaning: "House, household, family. Root of 'economy' and 'ecology'.", declension: "2nd", gender: "m", conjugation: null }, italian: { word: "casa", gender: "f", conjugation: null }, english: { word: "house" } } },
            { id: 36, french: "travail", category: "nom", gender: "m", translations: { greek: { word: "ἔργον", romanized: "ergon", meaning: "Work, deed, task, function.", declension: "2nd", gender: "n", conjugation: null }, italian: { word: "lavoro", gender: "m", conjugation: null }, english: { word: "work" } } },
            { id: 37, french: "nature", category: "nom", gender: "f", translations: { greek: { word: "φύσις", romanized: "physis", meaning: "Nature, natural order, growth.", declension: "3rd", gender: "f", conjugation: null }, italian: { word: "natura", gender: "f", conjugation: null }, english: { word: "nature" } } },
            { id: 38, french: "puissance", category: "nom", gender: "f", translations: { greek: { word: "δύναμις", romanized: "dynamis", meaning: "Power, ability, potential, capacity.", declension: "3rd", gender: "f", conjugation: null }, english: { word: "power" } } },
            { id: 39, french: "energie", category: "nom", gender: "f", translations: { greek: { word: "ἐνέργεια", romanized: "energeia", meaning: "Activity, actuality, being-at-work. Root of 'energy'.", declension: "1st", gender: "f", conjugation: null }, italian: { word: "energia", gender: "f", conjugation: null }, english: { word: "energy" } } },
            { id: 40, french: "connaissance", category: "nom", gender: "f", translations: { greek: { word: "γνῶσις", romanized: "gnosis", meaning: "Knowledge, especially spiritual or esoteric knowledge.", declension: "3rd", gender: "f", conjugation: null }, italian: { word: "conoscenza", gender: "f", conjugation: null }, english: { word: "knowledge" } } },
            { id: 41, french: "transformation", category: "nom", gender: "f", translations: { greek: { word: "μεταμόρφωσις", romanized: "metamorphosis", meaning: "Transformation, change of form.", declension: "3rd", gender: "f", conjugation: null }, english: { word: "transformation" } } },
            { id: 42, french: "philosophie", category: "nom", gender: "f", translations: { greek: { word: "φιλοσοφία", romanized: "philosophia", meaning: "Love of wisdom (philo + sophia). Philosophy.", declension: "1st", gender: "f", conjugation: null }, italian: { word: "filosofia", gender: "f", conjugation: null }, english: { word: "philosophy" } } },
            { id: 43, french: "tranquillite", category: "nom", gender: "f", translations: { greek: { word: "ἀταραξία", romanized: "ataraxia", meaning: "Tranquility, freedom from disturbance. Epicurean ideal.", declension: "1st", gender: "f", conjugation: null }, italian: { word: "tranquillita", gender: "f", conjugation: null }, english: { word: "tranquility" } } },
            { id: 44, french: "paradis", category: "nom", gender: "m", translations: { greek: { word: "παράδεισος", romanized: "paradeisos", meaning: "Paradise, garden, enclosed park.", declension: "2nd", gender: "m", conjugation: null }, italian: { word: "paradiso", gender: "m", conjugation: null }, english: { word: "paradise" } } },

            // ===== GREEK VERBS =====
            { id: 45, french: "dire", category: "verbe", gender: null, translations: { greek: { word: "λέγω", romanized: "lego", meaning: "I say, speak, tell, mean.", conjugation: { type: "ω-regular", stem: "λεγ" }, example: { words: [{t:"λέγω",id:45},{t:"τὴν",id:null},{t:"ἀλήθειαν",id:11}], translation: "I speak the truth." } }, italian: { word: "dire", conjugation: { type: "ire-irreg", forms: ["dico","dici","dice","diciamo","dite","dicono"] } }, english: { word: "to say" } } },
            { id: 46, french: "avoir", category: "verbe", gender: null, translations: { greek: { word: "ἔχω", romanized: "echo", meaning: "I have, hold, possess.", conjugation: { type: "ω-regular", stem: "ἐχ" } }, italian: { word: "avere", conjugation: { type: "irreg", forms: ["ho","hai","ha","abbiamo","avete","hanno"] } }, english: { word: "to have" } } },
            { id: 47, french: "etre", category: "verbe", gender: null, translations: { greek: { word: "εἰμί", romanized: "eimi", meaning: "I am, exist. The most important irregular verb.", conjugation: { type: "εἰμί" } }, italian: { word: "essere", conjugation: { type: "irreg", forms: ["sono","sei","e","siamo","siete","sono"] } }, english: { word: "to be" } } },
            { id: 48, french: "ecrire", category: "verbe", gender: null, translations: { greek: { word: "γράφω", romanized: "grapho", meaning: "I write, draw, paint.", conjugation: { type: "ω-regular", stem: "γραφ" } }, italian: { word: "scrivere", conjugation: { type: "ere", stem: "scriv" } }, english: { word: "to write" } } },
            { id: 49, french: "voir", category: "verbe", gender: null, translations: { greek: { word: "βλέπω", romanized: "blepo", meaning: "I see, look at, perceive.", conjugation: { type: "ω-regular", stem: "βλεπ" } }, italian: { word: "vedere", conjugation: { type: "ere-irreg", forms: ["vedo","vedi","vede","vediamo","vedete","vedono"] } }, english: { word: "to see" } } },
            { id: 50, french: "entendre", category: "verbe", gender: null, translations: { greek: { word: "ἀκούω", romanized: "akouo", meaning: "I hear, listen to.", conjugation: { type: "ω-regular", stem: "ἀκου" } }, italian: { word: "sentire", conjugation: { type: "ire", stem: "sent" } }, english: { word: "to hear" } } },
            { id: 51, french: "prendre", category: "verbe", gender: null, translations: { greek: { word: "λαμβάνω", romanized: "lambano", meaning: "I take, receive, grasp.", conjugation: { type: "ω-regular", stem: "λαμβαν" } }, italian: { word: "prendere", conjugation: { type: "ere-irreg", forms: ["prendo","prendi","prende","prendiamo","prendete","prendono"] } }, english: { word: "to take" } } },
            { id: 52, french: "faire", category: "verbe", gender: null, translations: { greek: { word: "ποιέω", romanized: "poieo", meaning: "I make, do, create.", conjugation: { type: "ω-contract-ε", stem: "ποι" } }, italian: { word: "fare", conjugation: { type: "irreg", forms: ["faccio","fai","fa","facciamo","fate","fanno"] } }, english: { word: "to make" } } },
            { id: 53, french: "porter", category: "verbe", gender: null, translations: { greek: { word: "φέρω", romanized: "phero", meaning: "I carry, bear, bring.", conjugation: { type: "ω-regular", stem: "φερ" } }, italian: { word: "portare", conjugation: { type: "are", stem: "port" } }, english: { word: "to carry" } } },
            { id: 54, french: "connaitre", category: "verbe", gender: null, translations: { greek: { word: "γιγνώσκω", romanized: "gignosko", meaning: "I know, perceive, understand.", conjugation: { type: "ω-regular", stem: "γιγνωσκ" } }, italian: { word: "conoscere", conjugation: { type: "ere-irreg", forms: ["conosco","conosci","conosce","conosciamo","conoscete","conoscono"] } }, english: { word: "to know" } } },
            { id: 55, french: "trouver", category: "verbe", gender: null, translations: { greek: { word: "εὑρίσκω", romanized: "heurisko", meaning: "I find, discover.", conjugation: { type: "ω-regular", stem: "εὑρισκ" } }, italian: { word: "trovare", conjugation: { type: "are", stem: "trov" } }, english: { word: "to find" } } },
            { id: 56, french: "donner", category: "verbe", gender: null, translations: { greek: { word: "δίδωμι", romanized: "didomi", meaning: "I give, grant, offer.", conjugation: { type: "μι-verb", stem: "διδ" } }, italian: { word: "dare", conjugation: { type: "irreg", forms: ["do","dai","da","diamo","date","danno"] } }, english: { word: "to give" } } },
            { id: 57, french: "mettre", category: "verbe", gender: null, translations: { greek: { word: "τίθημι", romanized: "tithemi", meaning: "I place, put, set.", conjugation: { type: "μι-verb", stem: "τιθ" } }, italian: { word: "mettere", conjugation: { type: "ere", stem: "mett" } }, english: { word: "to put" } } },
            { id: 58, french: "se tenir", category: "verbe", gender: null, translations: { greek: { word: "ἵστημι", romanized: "histemi", meaning: "I stand, set up, establish.", conjugation: { type: "μι-verb", stem: "ἱστ" } }, italian: { word: "stare", conjugation: { type: "irreg", forms: ["sto","stai","sta","stiamo","state","stanno"] } }, english: { word: "to stand" } } },
            { id: 59, french: "aimer", category: "verbe", gender: null, translations: { greek: { word: "φιλέω", romanized: "phileo", meaning: "I love, like, am fond of.", conjugation: { type: "ω-contract-ε", stem: "φιλ" }, example: { words: [{t:"φιλῶ",id:59},{t:"τὴν",id:null},{t:"σοφίαν",id:2}], translation: "I love wisdom." } }, italian: { word: "amare", conjugation: { type: "are", stem: "am" } }, english: { word: "to love" } } },
            { id: 60, french: "chercher", category: "verbe", gender: null, translations: { greek: { word: "ζητέω", romanized: "zeteo", meaning: "I seek, search for, inquire.", conjugation: { type: "ω-contract-ε", stem: "ζητ" } }, italian: { word: "cercare", conjugation: { type: "are", stem: "cerc" } }, english: { word: "to seek" } } },
            { id: 61, french: "appeler", category: "verbe", gender: null, translations: { greek: { word: "καλέω", romanized: "kaleo", meaning: "I call, summon, name.", conjugation: { type: "ω-contract-ε", stem: "καλ" } }, italian: { word: "chiamare", conjugation: { type: "are", stem: "chiam" } }, english: { word: "to call" } } },
            { id: 62, french: "croire", category: "verbe", gender: null, translations: { greek: { word: "πιστεύω", romanized: "pisteuo", meaning: "I believe, trust, have faith in.", conjugation: { type: "ω-regular", stem: "πιστευ" } }, italian: { word: "credere", conjugation: { type: "ere", stem: "cred" } }, english: { word: "to believe" } } },
            { id: 63, french: "vouloir", category: "verbe", gender: null, translations: { greek: { word: "θέλω", romanized: "thelo", meaning: "I wish, want, desire.", conjugation: { type: "ω-regular", stem: "θελ" } }, italian: { word: "volere", conjugation: { type: "irreg", forms: ["voglio","vuoi","vuole","vogliamo","volete","vogliono"] } }, english: { word: "to want" } } },
            { id: 64, french: "pouvoir", category: "verbe", gender: null, translations: { greek: { word: "δύναμαι", romanized: "dynamai", meaning: "I am able, can, have power.", conjugation: { type: "deponent", stem: "δυνα" } }, italian: { word: "potere", conjugation: { type: "irreg", forms: ["posso","puoi","puo","possiamo","potete","possono"] } }, english: { word: "can" } } },
            { id: 65, french: "venir", category: "verbe", gender: null, translations: { italian: { word: "venire", conjugation: { type: "irreg", forms: ["vengo","vieni","viene","veniamo","venite","vengono"] } }, english: { word: "to come" } } },
            { id: 66, french: "aller", category: "verbe", gender: null, translations: { italian: { word: "andare", conjugation: { type: "irreg", forms: ["vado","vai","va","andiamo","andate","vanno"] } }, english: { word: "to go" } } },

            // ===== ITALIAN-ONLY COMMON WORDS =====
            { id: 100, french: "bonjour", category: "expression", gender: null, translations: { italian: { word: "buongiorno", conjugation: null }, english: { word: "hello" } } },
            { id: 101, french: "au revoir", category: "expression", gender: null, translations: { italian: { word: "arrivederci", conjugation: null }, english: { word: "goodbye" } } },
            { id: 102, french: "salut", category: "expression", gender: null, translations: { italian: { word: "ciao", conjugation: null }, english: { word: "hi/bye" } } },
            { id: 103, french: "merci", category: "expression", gender: null, translations: { italian: { word: "grazie", conjugation: null }, english: { word: "thank you" } } },
            { id: 104, french: "s'il vous plait", category: "expression", gender: null, translations: { italian: { word: "per favore", conjugation: null }, english: { word: "please" } } },
            { id: 105, french: "oui", category: "adverbe", gender: null, translations: { italian: { word: "si", conjugation: null }, english: { word: "yes" } } },
            { id: 106, french: "non", category: "adverbe", gender: null, translations: { italian: { word: "no", conjugation: null }, english: { word: "no" } } },
            { id: 107, french: "eau", category: "nom", gender: "f", translations: { italian: { word: "acqua", gender: "f", conjugation: null }, english: { word: "water" } } },
            { id: 108, french: "vin", category: "nom", gender: "m", translations: { italian: { word: "vino", gender: "m", conjugation: null }, english: { word: "wine" } } },
            { id: 109, french: "pain", category: "nom", gender: "m", translations: { italian: { word: "pane", gender: "m", conjugation: null }, english: { word: "bread" } } },
            { id: 110, french: "fromage", category: "nom", gender: "m", translations: { italian: { word: "formaggio", gender: "m", conjugation: null }, english: { word: "cheese" } } },
            { id: 111, french: "cafe", category: "nom", gender: "m", translations: { italian: { word: "caffe", gender: "m", conjugation: null }, english: { word: "coffee" } } },
            { id: 112, french: "restaurant", category: "nom", gender: "m", translations: { italian: { word: "ristorante", gender: "m", conjugation: null }, english: { word: "restaurant" } } },
            { id: 113, french: "hotel", category: "nom", gender: "m", translations: { italian: { word: "albergo", gender: "m", conjugation: null }, english: { word: "hotel" } } },
            { id: 114, french: "rue", category: "nom", gender: "f", translations: { italian: { word: "via", gender: "f", conjugation: null }, english: { word: "street" } } },
            { id: 115, french: "voiture", category: "nom", gender: "f", translations: { italian: { word: "macchina", gender: "f", conjugation: null }, english: { word: "car" } } },
            { id: 116, french: "train", category: "nom", gender: "m", translations: { italian: { word: "treno", gender: "m", conjugation: null }, english: { word: "train" } } },
            { id: 117, french: "avion", category: "nom", gender: "m", translations: { italian: { word: "aereo", gender: "m", conjugation: null }, english: { word: "airplane" } } },
            { id: 118, french: "aeroport", category: "nom", gender: "m", translations: { italian: { word: "aeroporto", gender: "m", conjugation: null }, english: { word: "airport" } } },
            { id: 119, french: "gare", category: "nom", gender: "f", translations: { italian: { word: "stazione", gender: "f", conjugation: null }, english: { word: "station" } } },
            { id: 120, french: "billet", category: "nom", gender: "m", translations: { italian: { word: "biglietto", gender: "m", conjugation: null }, english: { word: "ticket" } } },
            { id: 121, french: "jour", category: "nom", gender: "m", translations: { italian: { word: "giorno", gender: "m", conjugation: null }, english: { word: "day" } } },
            { id: 122, french: "nuit", category: "nom", gender: "f", translations: { italian: { word: "notte", gender: "f", conjugation: null }, english: { word: "night" } } },
            { id: 123, french: "matin", category: "nom", gender: "m", translations: { italian: { word: "mattina", gender: "f", conjugation: null }, english: { word: "morning" } } },
            { id: 124, french: "soir", category: "nom", gender: "m", translations: { italian: { word: "sera", gender: "f", conjugation: null }, english: { word: "evening" } } },
            { id: 125, french: "semaine", category: "nom", gender: "f", translations: { italian: { word: "settimana", gender: "f", conjugation: null }, english: { word: "week" } } },
            { id: 126, french: "mois", category: "nom", gender: "m", translations: { italian: { word: "mese", gender: "m", conjugation: null }, english: { word: "month" } } },
            { id: 127, french: "annee", category: "nom", gender: "f", translations: { italian: { word: "anno", gender: "m", conjugation: null }, english: { word: "year" } } },
            { id: 128, french: "heure", category: "nom", gender: "f", translations: { italian: { word: "ora", gender: "f", conjugation: null }, english: { word: "hour" } } },
            { id: 129, french: "minute", category: "nom", gender: "f", translations: { italian: { word: "minuto", gender: "m", conjugation: null }, english: { word: "minute" } } },
            { id: 130, french: "lundi", category: "nom", gender: "m", translations: { italian: { word: "lunedi", conjugation: null }, english: { word: "Monday" } } },
            { id: 131, french: "mardi", category: "nom", gender: "m", translations: { italian: { word: "martedi", conjugation: null }, english: { word: "Tuesday" } } },
            { id: 132, french: "mercredi", category: "nom", gender: "m", translations: { italian: { word: "mercoledi", conjugation: null }, english: { word: "Wednesday" } } },
            { id: 133, french: "jeudi", category: "nom", gender: "m", translations: { italian: { word: "giovedi", conjugation: null }, english: { word: "Thursday" } } },
            { id: 134, french: "vendredi", category: "nom", gender: "m", translations: { italian: { word: "venerdi", conjugation: null }, english: { word: "Friday" } } },
            { id: 135, french: "samedi", category: "nom", gender: "m", translations: { italian: { word: "sabato", conjugation: null }, english: { word: "Saturday" } } },
            { id: 136, french: "dimanche", category: "nom", gender: "m", translations: { italian: { word: "domenica", gender: "f", conjugation: null }, english: { word: "Sunday" } } },
            { id: 137, french: "janvier", category: "nom", gender: "m", translations: { italian: { word: "gennaio", gender: "m", conjugation: null }, english: { word: "January" } } },
            { id: 138, french: "fevrier", category: "nom", gender: "m", translations: { italian: { word: "febbraio", gender: "m", conjugation: null }, english: { word: "February" } } },
            { id: 139, french: "mars", category: "nom", gender: "m", translations: { italian: { word: "marzo", gender: "m", conjugation: null }, english: { word: "March" } } },
            { id: 140, french: "avril", category: "nom", gender: "m", translations: { italian: { word: "aprile", gender: "m", conjugation: null }, english: { word: "April" } } },
            { id: 141, french: "mai", category: "nom", gender: "m", translations: { italian: { word: "maggio", gender: "m", conjugation: null }, english: { word: "May" } } },
            { id: 142, french: "juin", category: "nom", gender: "m", translations: { italian: { word: "giugno", gender: "m", conjugation: null }, english: { word: "June" } } },
            { id: 143, french: "juillet", category: "nom", gender: "m", translations: { italian: { word: "luglio", gender: "m", conjugation: null }, english: { word: "July" } } },
            { id: 144, french: "aout", category: "nom", gender: "m", translations: { italian: { word: "agosto", gender: "m", conjugation: null }, english: { word: "August" } } },
            { id: 145, french: "septembre", category: "nom", gender: "m", translations: { italian: { word: "settembre", gender: "m", conjugation: null }, english: { word: "September" } } },
            { id: 146, french: "octobre", category: "nom", gender: "m", translations: { italian: { word: "ottobre", gender: "m", conjugation: null }, english: { word: "October" } } },
            { id: 147, french: "novembre", category: "nom", gender: "m", translations: { italian: { word: "novembre", gender: "m", conjugation: null }, english: { word: "November" } } },
            { id: 148, french: "decembre", category: "nom", gender: "m", translations: { italian: { word: "dicembre", gender: "m", conjugation: null }, english: { word: "December" } } },
            { id: 149, french: "grand", category: "adjectif", gender: "m", translations: { italian: { word: "grande", conjugation: null }, english: { word: "big" } } },
            { id: 150, french: "petit", category: "adjectif", gender: "m", translations: { italian: { word: "piccolo", conjugation: null }, english: { word: "small" } } },
            { id: 151, french: "nouveau", category: "adjectif", gender: "m", translations: { italian: { word: "nuovo", conjugation: null }, english: { word: "new" } } },
            { id: 152, french: "vieux", category: "adjectif", gender: "m", translations: { italian: { word: "vecchio", conjugation: null }, english: { word: "old" } } },
            { id: 153, french: "jeune", category: "adjectif", gender: null, translations: { italian: { word: "giovane", conjugation: null }, english: { word: "young" } } },
            { id: 154, french: "heureux", category: "adjectif", gender: "m", translations: { italian: { word: "felice", conjugation: null }, english: { word: "happy" } } },
            { id: 155, french: "triste", category: "adjectif", gender: null, translations: { italian: { word: "triste", conjugation: null }, english: { word: "sad" } } },
            { id: 156, french: "facile", category: "adjectif", gender: null, translations: { italian: { word: "facile", conjugation: null }, english: { word: "easy" } } },
            { id: 157, french: "difficile", category: "adjectif", gender: null, translations: { italian: { word: "difficile", conjugation: null }, english: { word: "difficult" } } },
            { id: 158, french: "interessant", category: "adjectif", gender: "m", translations: { italian: { word: "interessante", conjugation: null }, english: { word: "interesting" } } },
            { id: 159, french: "manger", category: "verbe", gender: null, translations: { italian: { word: "mangiare", conjugation: { type: "are", stem: "mangi" } }, english: { word: "to eat" } } },
            { id: 160, french: "boire", category: "verbe", gender: null, translations: { italian: { word: "bere", conjugation: { type: "irreg", forms: ["bevo","bevi","beve","beviamo","bevete","bevono"] } }, english: { word: "to drink" } } },
            { id: 161, french: "dormir", category: "verbe", gender: null, translations: { italian: { word: "dormire", conjugation: { type: "ire", stem: "dorm" } }, english: { word: "to sleep" } } },
            { id: 162, french: "parler", category: "verbe", gender: null, translations: { italian: { word: "parlare", conjugation: { type: "are", stem: "parl" } }, english: { word: "to speak" } } },
            { id: 163, french: "ecouter", category: "verbe", gender: null, translations: { italian: { word: "ascoltare", conjugation: { type: "are", stem: "ascolt" } }, english: { word: "to listen" } } },
            { id: 164, french: "regarder", category: "verbe", gender: null, translations: { italian: { word: "guardare", conjugation: { type: "are", stem: "guard" } }, english: { word: "to watch" } } },
            { id: 165, french: "travailler", category: "verbe", gender: null, translations: { italian: { word: "lavorare", conjugation: { type: "are", stem: "lavor" } }, english: { word: "to work" } } },
            { id: 166, french: "etudier", category: "verbe", gender: null, translations: { italian: { word: "studiare", conjugation: { type: "are", stem: "studi" } }, english: { word: "to study" } } },
            { id: 167, french: "habiter", category: "verbe", gender: null, translations: { italian: { word: "abitare", conjugation: { type: "are", stem: "abit" } }, english: { word: "to live" } } },
            { id: 168, french: "acheter", category: "verbe", gender: null, translations: { italian: { word: "comprare", conjugation: { type: "are", stem: "compr" } }, english: { word: "to buy" } } },
            { id: 169, french: "payer", category: "verbe", gender: null, translations: { italian: { word: "pagare", conjugation: { type: "are", stem: "pag" } }, english: { word: "to pay" } } },
            { id: 170, french: "ouvrir", category: "verbe", gender: null, translations: { italian: { word: "aprire", conjugation: { type: "ire-irreg", forms: ["apro","apri","apre","apriamo","aprite","aprono"] } }, english: { word: "to open" } } },
            { id: 171, french: "fermer", category: "verbe", gender: null, translations: { italian: { word: "chiudere", conjugation: { type: "ere", stem: "chiud" } }, english: { word: "to close" } } },
            { id: 172, french: "comprendre", category: "verbe", gender: null, translations: { italian: { word: "capire", conjugation: { type: "ire-isc", stem: "cap" } }, english: { word: "to understand" } } },
            { id: 173, french: "repondre", category: "verbe", gender: null, translations: { italian: { word: "rispondere", conjugation: { type: "ere", stem: "rispond" } }, english: { word: "to answer" } } },
            { id: 174, french: "attendre", category: "verbe", gender: null, translations: { italian: { word: "aspettare", conjugation: { type: "are", stem: "aspett" } }, english: { word: "to wait" } } },
            { id: 175, french: "arriver", category: "verbe", gender: null, translations: { italian: { word: "arrivare", conjugation: { type: "are", stem: "arriv" } }, english: { word: "to arrive" } } },
            { id: 176, french: "partir", category: "verbe", gender: null, translations: { italian: { word: "partire", conjugation: { type: "ire", stem: "part" } }, english: { word: "to leave" } } },
            { id: 177, french: "rentrer", category: "verbe", gender: null, translations: { italian: { word: "tornare", conjugation: { type: "are", stem: "torn" } }, english: { word: "to return" } } },
            { id: 178, french: "rester", category: "verbe", gender: null, translations: { italian: { word: "rimanere", conjugation: { type: "irreg", forms: ["rimango","rimani","rimane","rimaniamo","rimanete","rimangono"] } }, english: { word: "to stay" } } },
            { id: 179, french: "commencer", category: "verbe", gender: null, translations: { italian: { word: "cominciare", conjugation: { type: "are", stem: "cominci" } }, english: { word: "to start" } } },
            { id: 180, french: "finir", category: "verbe", gender: null, translations: { italian: { word: "finire", conjugation: { type: "ire-isc", stem: "fin" } }, english: { word: "to finish" } } },

            // ===== BODY PARTS (from Italian PDF) =====
            { id: 200, french: "bouche", category: "nom", gender: "f", translations: { italian: { word: "bocca", gender: "f", conjugation: null }, english: { word: "mouth" } } },
            { id: 201, french: "bras", category: "nom", gender: "m", translations: { italian: { word: "braccio", gender: "m", conjugation: null }, english: { word: "arm" } } },
            { id: 202, french: "cheveux", category: "nom", gender: "m", translations: { italian: { word: "capelli", gender: "m", conjugation: null }, english: { word: "hair" } } },
            { id: 203, french: "cou", category: "nom", gender: "m", translations: { italian: { word: "collo", gender: "m", conjugation: null }, english: { word: "neck" } } },
            { id: 204, french: "epaule", category: "nom", gender: "f", translations: { italian: { word: "spalla", gender: "f", conjugation: null }, english: { word: "shoulder" } } },
            { id: 205, french: "front", category: "nom", gender: "m", translations: { italian: { word: "fronte", gender: "f", conjugation: null }, english: { word: "forehead" } } },
            { id: 206, french: "jambe", category: "nom", gender: "f", translations: { italian: { word: "gamba", gender: "f", conjugation: null }, english: { word: "leg" } } },
            { id: 207, french: "joue", category: "nom", gender: "f", translations: { italian: { word: "guancia", gender: "f", conjugation: null }, english: { word: "cheek" } } },
            { id: 208, french: "main", category: "nom", gender: "f", translations: { italian: { word: "mano", gender: "f", conjugation: null }, english: { word: "hand" } } },
            { id: 209, french: "menton", category: "nom", gender: "m", translations: { italian: { word: "mento", gender: "m", conjugation: null }, english: { word: "chin" } } },
            { id: 210, french: "nez", category: "nom", gender: "m", translations: { italian: { word: "naso", gender: "m", conjugation: null }, english: { word: "nose" } } },
            { id: 211, french: "oeil", category: "nom", gender: "m", translations: { italian: { word: "occhio", gender: "m", conjugation: null }, english: { word: "eye" } } },
            { id: 212, french: "oreille", category: "nom", gender: "f", translations: { italian: { word: "orecchio", gender: "m", conjugation: null }, english: { word: "ear" } } },
            { id: 213, french: "pied", category: "nom", gender: "m", translations: { italian: { word: "piede", gender: "m", conjugation: null }, english: { word: "foot" } } },
            { id: 214, french: "tete", category: "nom", gender: "f", translations: { italian: { word: "testa", gender: "f", conjugation: null }, english: { word: "head" } } },
            { id: 215, french: "ventre", category: "nom", gender: "m", translations: { italian: { word: "pancia", gender: "f", conjugation: null }, english: { word: "belly" } } },
            { id: 216, french: "visage", category: "nom", gender: "m", translations: { italian: { word: "viso", gender: "m", conjugation: null }, english: { word: "face" } } },
            { id: 217, french: "dos", category: "nom", gender: "m", translations: { italian: { word: "schiena", gender: "f", conjugation: null }, english: { word: "back" } } },
            { id: 218, french: "doigt", category: "nom", gender: "m", translations: { italian: { word: "dito", gender: "m", conjugation: null }, english: { word: "finger" } } },
            { id: 219, french: "genou", category: "nom", gender: "m", translations: { italian: { word: "ginocchio", gender: "m", conjugation: null }, english: { word: "knee" } } },

            // ===== COLORS =====
            { id: 220, french: "blanc", category: "adjectif", gender: "m", translations: { italian: { word: "bianco", conjugation: null }, english: { word: "white" } } },
            { id: 221, french: "noir", category: "adjectif", gender: "m", translations: { italian: { word: "nero", conjugation: null }, english: { word: "black" } } },
            { id: 222, french: "rouge", category: "adjectif", gender: "m", translations: { italian: { word: "rosso", conjugation: null }, english: { word: "red" } } },
            { id: 223, french: "vert", category: "adjectif", gender: "m", translations: { italian: { word: "verde", conjugation: null }, english: { word: "green" } } },
            { id: 224, french: "jaune", category: "adjectif", gender: "m", translations: { italian: { word: "giallo", conjugation: null }, english: { word: "yellow" } } },
            { id: 225, french: "bleu", category: "adjectif", gender: "m", translations: { italian: { word: "blu", conjugation: null }, english: { word: "blue" } } },
            { id: 226, french: "gris", category: "adjectif", gender: "m", translations: { italian: { word: "grigio", conjugation: null }, english: { word: "gray" } } },
            { id: 227, french: "marron", category: "adjectif", gender: "m", translations: { italian: { word: "marrone", conjugation: null }, english: { word: "brown" } } },
            { id: 228, french: "orange", category: "adjectif", gender: "m", translations: { italian: { word: "arancione", conjugation: null }, english: { word: "orange" } } },
            { id: 229, french: "rose", category: "adjectif", gender: "m", translations: { italian: { word: "rosa", conjugation: null }, english: { word: "pink" } } },
            { id: 230, french: "violet", category: "adjectif", gender: "m", translations: { italian: { word: "viola", conjugation: null }, english: { word: "purple" } } },
            { id: 231, french: "beige", category: "adjectif", gender: "m", translations: { italian: { word: "beige", conjugation: null }, english: { word: "beige" } } },
            { id: 232, french: "or", category: "nom", gender: "m", translations: { italian: { word: "oro", gender: "m", conjugation: null }, english: { word: "gold" } } },

            // ===== FAMILY =====
            { id: 240, french: "pere", category: "nom", gender: "m", translations: { italian: { word: "padre", gender: "m", conjugation: null }, english: { word: "father" } } },
            { id: 241, french: "mere", category: "nom", gender: "f", translations: { italian: { word: "madre", gender: "f", conjugation: null }, english: { word: "mother" } } },
            { id: 242, french: "frere", category: "nom", gender: "m", translations: { italian: { word: "fratello", gender: "m", conjugation: null }, english: { word: "brother" } } },
            { id: 243, french: "soeur", category: "nom", gender: "f", translations: { italian: { word: "sorella", gender: "f", conjugation: null }, english: { word: "sister" } } },
            { id: 244, french: "fils", category: "nom", gender: "m", translations: { italian: { word: "figlio", gender: "m", conjugation: null }, english: { word: "son" } } },
            { id: 245, french: "fille", category: "nom", gender: "f", translations: { italian: { word: "figlia", gender: "f", conjugation: null }, english: { word: "daughter" } } },
            { id: 246, french: "oncle", category: "nom", gender: "m", translations: { italian: { word: "zio", gender: "m", conjugation: null }, english: { word: "uncle" } } },
            { id: 247, french: "tante", category: "nom", gender: "f", translations: { italian: { word: "zia", gender: "f", conjugation: null }, english: { word: "aunt" } } },
            { id: 248, french: "cousin", category: "nom", gender: "m", translations: { italian: { word: "cugino", gender: "m", conjugation: null }, english: { word: "cousin" } } },
            { id: 249, french: "neveu", category: "nom", gender: "m", translations: { italian: { word: "nipote", gender: "m", conjugation: null }, english: { word: "nephew" } } },
            { id: 250, french: "niece", category: "nom", gender: "f", translations: { italian: { word: "nipote", gender: "f", conjugation: null }, english: { word: "niece" } } },
            { id: 251, french: "grand-pere", category: "nom", gender: "m", translations: { italian: { word: "nonno", gender: "m", conjugation: null }, english: { word: "grandfather" } } },
            { id: 252, french: "grand-mere", category: "nom", gender: "f", translations: { italian: { word: "nonna", gender: "f", conjugation: null }, english: { word: "grandmother" } } },
            { id: 253, french: "papa", category: "nom", gender: "m", translations: { italian: { word: "papa", gender: "m", conjugation: null }, english: { word: "dad" } } },
            { id: 254, french: "maman", category: "nom", gender: "f", translations: { italian: { word: "mamma", gender: "f", conjugation: null }, english: { word: "mom" } } },
            { id: 255, french: "enfant", category: "nom", gender: "m", translations: { italian: { word: "bambino", gender: "m", conjugation: null }, english: { word: "child" } } },
            { id: 256, french: "bebe", category: "nom", gender: "m", translations: { italian: { word: "bebe", gender: "m", conjugation: null }, english: { word: "baby" } } },
            { id: 257, french: "mari", category: "nom", gender: "m", translations: { italian: { word: "marito", gender: "m", conjugation: null }, english: { word: "husband" } } },
            { id: 258, french: "femme", category: "nom", gender: "f", translations: { italian: { word: "moglie", gender: "f", conjugation: null }, english: { word: "wife" } } },
            { id: 259, french: "famille", category: "nom", gender: "f", translations: { italian: { word: "famiglia", gender: "f", conjugation: null }, english: { word: "family" } } },
            { id: 260, french: "jumeaux", category: "nom", gender: "m", translations: { italian: { word: "gemelli", gender: "m", conjugation: null }, english: { word: "twins" } } },
            { id: 261, french: "parrain", category: "nom", gender: "m", translations: { italian: { word: "padrino", gender: "m", conjugation: null }, english: { word: "godfather" } } },
            { id: 262, french: "marraine", category: "nom", gender: "f", translations: { italian: { word: "madrina", gender: "f", conjugation: null }, english: { word: "godmother" } } },

            // ===== FOOD & DRINK =====
            { id: 270, french: "viande", category: "nom", gender: "f", translations: { italian: { word: "carne", gender: "f", conjugation: null }, english: { word: "meat" } } },
            { id: 271, french: "poulet", category: "nom", gender: "m", translations: { italian: { word: "pollo", gender: "m", conjugation: null }, english: { word: "chicken" } } },
            { id: 272, french: "porc", category: "nom", gender: "m", translations: { italian: { word: "maiale", gender: "m", conjugation: null }, english: { word: "pork" } } },
            { id: 273, french: "boeuf", category: "nom", gender: "m", translations: { italian: { word: "manzo", gender: "m", conjugation: null }, english: { word: "beef" } } },
            { id: 274, french: "veau", category: "nom", gender: "m", translations: { italian: { word: "vitello", gender: "m", conjugation: null }, english: { word: "veal" } } },
            { id: 275, french: "poisson", category: "nom", gender: "m", translations: { italian: { word: "pesce", gender: "m", conjugation: null }, english: { word: "fish" } } },
            { id: 276, french: "saumon", category: "nom", gender: "m", translations: { italian: { word: "salmone", gender: "m", conjugation: null }, english: { word: "salmon" } } },
            { id: 277, french: "riz", category: "nom", gender: "m", translations: { italian: { word: "riso", gender: "m", conjugation: null }, english: { word: "rice" } } },
            { id: 278, french: "salade", category: "nom", gender: "f", translations: { italian: { word: "insalata", gender: "f", conjugation: null }, english: { word: "salad" } } },
            { id: 279, french: "tomate", category: "nom", gender: "f", translations: { italian: { word: "pomodoro", gender: "m", conjugation: null }, english: { word: "tomato" } } },
            { id: 280, french: "pomme de terre", category: "nom", gender: "f", translations: { italian: { word: "patata", gender: "f", conjugation: null }, english: { word: "potato" } } },
            { id: 281, french: "frites", category: "nom", gender: "f", translations: { italian: { word: "patatine fritte", gender: "f", conjugation: null }, english: { word: "fries" } } },
            { id: 282, french: "orange", category: "nom", gender: "f", translations: { italian: { word: "arancia", gender: "f", conjugation: null }, english: { word: "orange" } } },
            { id: 283, french: "fraise", category: "nom", gender: "f", translations: { italian: { word: "fragola", gender: "f", conjugation: null }, english: { word: "strawberry" } } },
            { id: 284, french: "citron", category: "nom", gender: "m", translations: { italian: { word: "limone", gender: "m", conjugation: null }, english: { word: "lemon" } } },
            { id: 285, french: "beurre", category: "nom", gender: "m", translations: { italian: { word: "burro", gender: "m", conjugation: null }, english: { word: "butter" } } },
            { id: 286, french: "sucre", category: "nom", gender: "m", translations: { italian: { word: "zucchero", gender: "m", conjugation: null }, english: { word: "sugar" } } },
            { id: 287, french: "sel", category: "nom", gender: "m", translations: { italian: { word: "sale", gender: "m", conjugation: null }, english: { word: "salt" } } },
            { id: 288, french: "huile", category: "nom", gender: "f", translations: { italian: { word: "olio", gender: "m", conjugation: null }, english: { word: "oil" } } },
            { id: 289, french: "vinaigre", category: "nom", gender: "m", translations: { italian: { word: "aceto", gender: "m", conjugation: null }, english: { word: "vinegar" } } },
            { id: 290, french: "oeuf", category: "nom", gender: "m", translations: { italian: { word: "uovo", gender: "m", conjugation: null }, english: { word: "egg" } } },
            { id: 291, french: "jambon", category: "nom", gender: "m", translations: { italian: { word: "prosciutto", gender: "m", conjugation: null }, english: { word: "ham" } } },
            { id: 292, french: "lait", category: "nom", gender: "m", translations: { italian: { word: "latte", gender: "m", conjugation: null }, english: { word: "milk" } } },
            { id: 293, french: "the", category: "nom", gender: "m", translations: { italian: { word: "te", gender: "m", conjugation: null }, english: { word: "tea" } } },
            { id: 294, french: "jus", category: "nom", gender: "m", translations: { italian: { word: "succo", gender: "m", conjugation: null }, english: { word: "juice" } } },
            { id: 295, french: "glace", category: "nom", gender: "f", translations: { italian: { word: "gelato", gender: "m", conjugation: null }, english: { word: "ice cream" } } },
            { id: 296, french: "gateau", category: "nom", gender: "m", translations: { italian: { word: "torta", gender: "f", conjugation: null }, english: { word: "cake" } } },
            { id: 297, french: "dessert", category: "nom", gender: "m", translations: { italian: { word: "dolce", gender: "m", conjugation: null }, english: { word: "dessert" } } },
            { id: 298, french: "fruits", category: "nom", gender: "m", translations: { italian: { word: "frutta", gender: "f", conjugation: null }, english: { word: "fruit" } } },
            { id: 299, french: "legumes", category: "nom", gender: "m", translations: { italian: { word: "verdura", gender: "f", conjugation: null }, english: { word: "vegetables" } } },
            { id: 300, french: "champignons", category: "nom", gender: "m", translations: { italian: { word: "funghi", gender: "m", conjugation: null }, english: { word: "mushrooms" } } },
            { id: 301, french: "haricots", category: "nom", gender: "m", translations: { italian: { word: "fagioli", gender: "m", conjugation: null }, english: { word: "beans" } } },
            { id: 302, french: "petit dejeuner", category: "nom", gender: "m", translations: { italian: { word: "colazione", gender: "f", conjugation: null }, english: { word: "breakfast" } } },
            { id: 303, french: "dejeuner", category: "nom", gender: "m", translations: { italian: { word: "pranzo", gender: "m", conjugation: null }, english: { word: "lunch" } } },
            { id: 304, french: "diner", category: "nom", gender: "m", translations: { italian: { word: "cena", gender: "f", conjugation: null }, english: { word: "dinner" } } },
            { id: 305, french: "entree", category: "nom", gender: "f", translations: { italian: { word: "antipasto", gender: "m", conjugation: null }, english: { word: "appetizer" } } },
            { id: 306, french: "plat principal", category: "nom", gender: "m", translations: { italian: { word: "secondo", gender: "m", conjugation: null }, english: { word: "main course" } } },
            { id: 307, french: "garniture", category: "nom", gender: "f", translations: { italian: { word: "contorno", gender: "m", conjugation: null }, english: { word: "side dish" } } },

            // ===== TABLEWARE & RESTAURANT =====
            { id: 310, french: "assiette", category: "nom", gender: "f", translations: { italian: { word: "piatto", gender: "m", conjugation: null }, english: { word: "plate" } } },
            { id: 311, french: "verre", category: "nom", gender: "m", translations: { italian: { word: "bicchiere", gender: "m", conjugation: null }, english: { word: "glass" } } },
            { id: 312, french: "bouteille", category: "nom", gender: "f", translations: { italian: { word: "bottiglia", gender: "f", conjugation: null }, english: { word: "bottle" } } },
            { id: 313, french: "couteau", category: "nom", gender: "m", translations: { italian: { word: "coltello", gender: "m", conjugation: null }, english: { word: "knife" } } },
            { id: 314, french: "fourchette", category: "nom", gender: "f", translations: { italian: { word: "forchetta", gender: "f", conjugation: null }, english: { word: "fork" } } },
            { id: 315, french: "cuillere", category: "nom", gender: "f", translations: { italian: { word: "cucchiaio", gender: "m", conjugation: null }, english: { word: "spoon" } } },
            { id: 316, french: "serveur", category: "nom", gender: "m", translations: { italian: { word: "cameriere", gender: "m", conjugation: null }, english: { word: "waiter" } } },
            { id: 317, french: "serveuse", category: "nom", gender: "f", translations: { italian: { word: "cameriera", gender: "f", conjugation: null }, english: { word: "waitress" } } },
            { id: 318, french: "addition", category: "nom", gender: "f", translations: { italian: { word: "conto", gender: "m", conjugation: null }, english: { word: "bill" } } },
            { id: 319, french: "reservation", category: "nom", gender: "f", translations: { italian: { word: "prenotazione", gender: "f", conjugation: null }, english: { word: "reservation" } } },

            // ===== HOUSEHOLD & FURNITURE =====
            { id: 320, french: "table", category: "nom", gender: "f", translations: { italian: { word: "tavolo", gender: "m", conjugation: null }, english: { word: "table" } } },
            { id: 321, french: "chaise", category: "nom", gender: "f", translations: { italian: { word: "sedia", gender: "f", conjugation: null }, english: { word: "chair" } } },
            { id: 322, french: "lit", category: "nom", gender: "m", translations: { italian: { word: "letto", gender: "m", conjugation: null }, english: { word: "bed" } } },
            { id: 323, french: "chambre", category: "nom", gender: "f", translations: { italian: { word: "camera", gender: "f", conjugation: null }, english: { word: "room" } } },
            { id: 324, french: "cuisine", category: "nom", gender: "f", translations: { italian: { word: "cucina", gender: "f", conjugation: null }, english: { word: "kitchen" } } },
            { id: 325, french: "porte", category: "nom", gender: "f", translations: { italian: { word: "porta", gender: "f", conjugation: null }, english: { word: "door" } } },
            { id: 326, french: "fenetre", category: "nom", gender: "f", translations: { italian: { word: "finestra", gender: "f", conjugation: null }, english: { word: "window" } } },
            { id: 327, french: "escalier", category: "nom", gender: "m", translations: { italian: { word: "scala", gender: "f", conjugation: null }, english: { word: "stairs" } } },
            { id: 328, french: "sol", category: "nom", gender: "m", translations: { italian: { word: "pavimento", gender: "m", conjugation: null }, english: { word: "floor" } } },
            { id: 329, french: "mur", category: "nom", gender: "m", translations: { italian: { word: "muro", gender: "m", conjugation: null }, english: { word: "wall" } } },
            { id: 330, french: "appartement", category: "nom", gender: "m", translations: { italian: { word: "appartamento", gender: "m", conjugation: null }, english: { word: "apartment" } } },
            { id: 331, french: "immeuble", category: "nom", gender: "m", translations: { italian: { word: "palazzo", gender: "m", conjugation: null }, english: { word: "building" } } },
            { id: 332, french: "bureau", category: "nom", gender: "m", translations: { italian: { word: "ufficio", gender: "m", conjugation: null }, english: { word: "office" } } },
            { id: 333, french: "ecole", category: "nom", gender: "f", translations: { italian: { word: "scuola", gender: "f", conjugation: null }, english: { word: "school" } } },
            { id: 334, french: "eglise", category: "nom", gender: "f", translations: { italian: { word: "chiesa", gender: "f", conjugation: null }, english: { word: "church" } } },
            { id: 335, french: "hopital", category: "nom", gender: "m", translations: { italian: { word: "ospedale", gender: "m", conjugation: null }, english: { word: "hospital" } } },
            { id: 336, french: "musee", category: "nom", gender: "m", translations: { italian: { word: "museo", gender: "m", conjugation: null }, english: { word: "museum" } } },
            { id: 337, french: "parc", category: "nom", gender: "m", translations: { italian: { word: "parco", gender: "m", conjugation: null }, english: { word: "park" } } },
            { id: 338, french: "place", category: "nom", gender: "f", translations: { italian: { word: "piazza", gender: "f", conjugation: null }, english: { word: "square" } } },
            { id: 339, french: "pont", category: "nom", gender: "m", translations: { italian: { word: "ponte", gender: "m", conjugation: null }, english: { word: "bridge" } } },
            { id: 340, french: "marche", category: "nom", gender: "m", translations: { italian: { word: "mercato", gender: "m", conjugation: null }, english: { word: "market" } } },

            // ===== CLOTHING & ACCESSORIES =====
            { id: 350, french: "chaussure", category: "nom", gender: "f", translations: { italian: { word: "scarpa", gender: "f", conjugation: null }, english: { word: "shoe" } } },
            { id: 351, french: "sac", category: "nom", gender: "m", translations: { italian: { word: "borsa", gender: "f", conjugation: null }, english: { word: "bag" } } },
            { id: 352, french: "lunettes", category: "nom", gender: "f", translations: { italian: { word: "occhiali", gender: "m", conjugation: null }, english: { word: "glasses" } } },
            { id: 353, french: "parapluie", category: "nom", gender: "m", translations: { italian: { word: "ombrello", gender: "m", conjugation: null }, english: { word: "umbrella" } } },
            { id: 354, french: "echarpe", category: "nom", gender: "f", translations: { italian: { word: "sciarpa", gender: "f", conjugation: null }, english: { word: "scarf" } } },

            // ===== MORE ADJECTIVES =====
            { id: 360, french: "chaud", category: "adjectif", gender: "m", translations: { italian: { word: "caldo", conjugation: null }, english: { word: "hot" } } },
            { id: 361, french: "froid", category: "adjectif", gender: "m", translations: { italian: { word: "freddo", conjugation: null }, english: { word: "cold" } } },
            { id: 362, french: "rapide", category: "adjectif", gender: null, translations: { italian: { word: "veloce", conjugation: null }, english: { word: "fast" } } },
            { id: 363, french: "lent", category: "adjectif", gender: "m", translations: { italian: { word: "lento", conjugation: null }, english: { word: "slow" } } },
            { id: 364, french: "riche", category: "adjectif", gender: null, translations: { italian: { word: "ricco", conjugation: null }, english: { word: "rich" } } },
            { id: 365, french: "pauvre", category: "adjectif", gender: null, translations: { italian: { word: "povero", conjugation: null }, english: { word: "poor" } } },
            { id: 366, french: "gros", category: "adjectif", gender: "m", translations: { italian: { word: "grosso", conjugation: null }, english: { word: "big/fat" } } },
            { id: 367, french: "maigre", category: "adjectif", gender: null, translations: { italian: { word: "magro", conjugation: null }, english: { word: "thin" } } },
            { id: 368, french: "fort", category: "adjectif", gender: "m", translations: { italian: { word: "forte", conjugation: null }, english: { word: "strong" } } },
            { id: 369, french: "faible", category: "adjectif", gender: null, translations: { italian: { word: "debole", conjugation: null }, english: { word: "weak" } } },
            { id: 370, french: "propre", category: "adjectif", gender: null, translations: { italian: { word: "pulito", conjugation: null }, english: { word: "clean" } } },
            { id: 371, french: "sale", category: "adjectif", gender: null, translations: { italian: { word: "sporco", conjugation: null }, english: { word: "dirty" } } },
            { id: 372, french: "long", category: "adjectif", gender: "m", translations: { italian: { word: "lungo", conjugation: null }, english: { word: "long" } } },
            { id: 373, french: "court", category: "adjectif", gender: "m", translations: { italian: { word: "corto", conjugation: null }, english: { word: "short" } } },
            { id: 374, french: "large", category: "adjectif", gender: null, translations: { italian: { word: "largo", conjugation: null }, english: { word: "wide" } } },
            { id: 375, french: "etroit", category: "adjectif", gender: "m", translations: { italian: { word: "stretto", conjugation: null }, english: { word: "narrow" } } },
            { id: 376, french: "haut", category: "adjectif", gender: "m", translations: { italian: { word: "alto", conjugation: null }, english: { word: "high/tall" } } },
            { id: 377, french: "bas", category: "adjectif", gender: "m", translations: { italian: { word: "basso", conjugation: null }, english: { word: "low" } } },
            { id: 378, french: "plein", category: "adjectif", gender: "m", translations: { italian: { word: "pieno", conjugation: null }, english: { word: "full" } } },
            { id: 379, french: "vide", category: "adjectif", gender: null, translations: { italian: { word: "vuoto", conjugation: null }, english: { word: "empty" } } },
            { id: 380, french: "libre", category: "adjectif", gender: null, translations: { italian: { word: "libero", conjugation: null }, english: { word: "free" } } },
            { id: 381, french: "occupe", category: "adjectif", gender: "m", translations: { italian: { word: "occupato", conjugation: null }, english: { word: "busy" } } },
            { id: 382, french: "fatigue", category: "adjectif", gender: "m", translations: { italian: { word: "stanco", conjugation: null }, english: { word: "tired" } } },
            { id: 383, french: "malade", category: "adjectif", gender: null, translations: { italian: { word: "malato", conjugation: null }, english: { word: "sick" } } },
            { id: 384, french: "fache", category: "adjectif", gender: "m", translations: { italian: { word: "arrabbiato", conjugation: null }, english: { word: "angry" } } },
            { id: 385, french: "content", category: "adjectif", gender: "m", translations: { italian: { word: "contento", conjugation: null }, english: { word: "happy" } } },
            { id: 386, french: "inquiet", category: "adjectif", gender: "m", translations: { italian: { word: "preoccupato", conjugation: null }, english: { word: "worried" } } },
            { id: 387, french: "tranquille", category: "adjectif", gender: null, translations: { italian: { word: "tranquillo", conjugation: null }, english: { word: "calm" } } },
            { id: 388, french: "drole", category: "adjectif", gender: null, translations: { italian: { word: "divertente", conjugation: null }, english: { word: "funny" } } },
            { id: 389, french: "ennuyeux", category: "adjectif", gender: "m", translations: { italian: { word: "noioso", conjugation: null }, english: { word: "boring" } } },
            { id: 390, french: "intelligent", category: "adjectif", gender: "m", translations: { italian: { word: "intelligente", conjugation: null }, english: { word: "intelligent" } } },
            { id: 391, french: "gentil", category: "adjectif", gender: "m", translations: { italian: { word: "gentile", conjugation: null }, english: { word: "kind" } } },
            { id: 392, french: "mechant", category: "adjectif", gender: "m", translations: { italian: { word: "cattivo", conjugation: null }, english: { word: "mean" } } },
            { id: 393, french: "sympathique", category: "adjectif", gender: null, translations: { italian: { word: "simpatico", conjugation: null }, english: { word: "nice" } } },
            { id: 394, french: "mignon", category: "adjectif", gender: "m", translations: { italian: { word: "carino", conjugation: null }, english: { word: "cute" } } },
            { id: 395, french: "laid", category: "adjectif", gender: "m", translations: { italian: { word: "brutto", conjugation: null }, english: { word: "ugly" } } },
            { id: 396, french: "bizarre", category: "adjectif", gender: null, translations: { italian: { word: "strano", conjugation: null }, english: { word: "strange" } } },
            { id: 397, french: "necessaire", category: "adjectif", gender: null, translations: { italian: { word: "necessario", conjugation: null }, english: { word: "necessary" } } },
            { id: 398, french: "special", category: "adjectif", gender: "m", translations: { italian: { word: "speciale", conjugation: null }, english: { word: "special" } } },
            { id: 399, french: "different", category: "adjectif", gender: "m", translations: { italian: { word: "diverso", conjugation: null }, english: { word: "different" } } },

            // ===== MORE VERBS =====
            { id: 400, french: "changer", category: "verbe", gender: null, translations: { italian: { word: "cambiare", conjugation: { type: "are", stem: "cambi" } }, english: { word: "to change" } } },
            { id: 401, french: "pleurer", category: "verbe", gender: null, translations: { italian: { word: "piangere", conjugation: { type: "ere-irreg", forms: ["piango","piangi","piange","piangiamo","piangete","piangono"] } }, english: { word: "to cry" } } },
            { id: 402, french: "rire", category: "verbe", gender: null, translations: { italian: { word: "ridere", conjugation: { type: "ere", stem: "rid" } }, english: { word: "to laugh" } } },
            { id: 403, french: "courir", category: "verbe", gender: null, translations: { italian: { word: "correre", conjugation: { type: "ere", stem: "corr" } }, english: { word: "to run" } } },
            { id: 404, french: "nager", category: "verbe", gender: null, translations: { italian: { word: "nuotare", conjugation: { type: "are", stem: "nuot" } }, english: { word: "to swim" } } },
            { id: 405, french: "sauter", category: "verbe", gender: null, translations: { italian: { word: "saltare", conjugation: { type: "are", stem: "salt" } }, english: { word: "to jump" } } },
            { id: 406, french: "tomber", category: "verbe", gender: null, translations: { italian: { word: "cadere", conjugation: { type: "ere-irreg", forms: ["cado","cadi","cade","cadiamo","cadete","cadono"] } }, english: { word: "to fall" } } },
            { id: 407, french: "monter", category: "verbe", gender: null, translations: { italian: { word: "salire", conjugation: { type: "ire-irreg", forms: ["salgo","sali","sale","saliamo","salite","salgono"] } }, english: { word: "to go up" } } },
            { id: 408, french: "descendre", category: "verbe", gender: null, translations: { italian: { word: "scendere", conjugation: { type: "ere", stem: "scend" } }, english: { word: "to go down" } } },
            { id: 409, french: "aider", category: "verbe", gender: null, translations: { italian: { word: "aiutare", conjugation: { type: "are", stem: "aiut" } }, english: { word: "to help" } } },
            { id: 410, french: "envoyer", category: "verbe", gender: null, translations: { italian: { word: "mandare", conjugation: { type: "are", stem: "mand" } }, english: { word: "to send" } } },
            { id: 411, french: "recevoir", category: "verbe", gender: null, translations: { italian: { word: "ricevere", conjugation: { type: "ere", stem: "ricev" } }, english: { word: "to receive" } } },
            { id: 412, french: "preparer", category: "verbe", gender: null, translations: { italian: { word: "preparare", conjugation: { type: "are", stem: "prepar" } }, english: { word: "to prepare" } } },
            { id: 413, french: "cuisiner", category: "verbe", gender: null, translations: { italian: { word: "cucinare", conjugation: { type: "are", stem: "cucin" } }, english: { word: "to cook" } } },
            { id: 414, french: "laver", category: "verbe", gender: null, translations: { italian: { word: "lavare", conjugation: { type: "are", stem: "lav" } }, english: { word: "to wash" } } },
            { id: 415, french: "nettoyer", category: "verbe", gender: null, translations: { italian: { word: "pulire", conjugation: { type: "ire-isc", stem: "pul" } }, english: { word: "to clean" } } },
            { id: 416, french: "jeter", category: "verbe", gender: null, translations: { italian: { word: "buttare", conjugation: { type: "are", stem: "butt" } }, english: { word: "to throw" } } },
            { id: 417, french: "casser", category: "verbe", gender: null, translations: { italian: { word: "rompere", conjugation: { type: "ere-irreg", forms: ["rompo","rompi","rompe","rompiamo","rompete","rompono"] } }, english: { word: "to break" } } },
            { id: 418, french: "pousser", category: "verbe", gender: null, translations: { italian: { word: "spingere", conjugation: { type: "ere-irreg", forms: ["spingo","spingi","spinge","spingiamo","spingete","spingono"] } }, english: { word: "to push" } } },
            { id: 419, french: "tirer", category: "verbe", gender: null, translations: { italian: { word: "tirare", conjugation: { type: "are", stem: "tir" } }, english: { word: "to pull" } } },
            { id: 420, french: "oublier", category: "verbe", gender: null, translations: { italian: { word: "dimenticare", conjugation: { type: "are", stem: "dimentic" } }, english: { word: "to forget" } } },
            { id: 421, french: "se souvenir", category: "verbe", gender: null, translations: { italian: { word: "ricordare", conjugation: { type: "are", stem: "ricord" } }, english: { word: "to remember" } } },
            { id: 422, french: "penser", category: "verbe", gender: null, translations: { italian: { word: "pensare", conjugation: { type: "are", stem: "pens" } }, english: { word: "to think" } } },
            { id: 423, french: "esperer", category: "verbe", gender: null, translations: { italian: { word: "sperare", conjugation: { type: "are", stem: "sper" } }, english: { word: "to hope" } } },
            { id: 424, french: "preferer", category: "verbe", gender: null, translations: { italian: { word: "preferire", conjugation: { type: "ire-isc", stem: "prefer" } }, english: { word: "to prefer" } } },
            { id: 425, french: "essayer", category: "verbe", gender: null, translations: { italian: { word: "provare", conjugation: { type: "are", stem: "prov" } }, english: { word: "to try" } } },
            { id: 426, french: "reussir", category: "verbe", gender: null, translations: { italian: { word: "riuscire", conjugation: { type: "ire-irreg", forms: ["riesco","riesci","riesce","riusciamo","riuscite","riescono"] } }, english: { word: "to succeed" } } },
            { id: 427, french: "gagner", category: "verbe", gender: null, translations: { italian: { word: "vincere", conjugation: { type: "ere-irreg", forms: ["vinco","vinci","vince","vinciamo","vincete","vincono"] } }, english: { word: "to win" } } },
            { id: 428, french: "perdre", category: "verbe", gender: null, translations: { italian: { word: "perdere", conjugation: { type: "ere", stem: "perd" } }, english: { word: "to lose" } } },
            { id: 429, french: "choisir", category: "verbe", gender: null, translations: { italian: { word: "scegliere", conjugation: { type: "ere-irreg", forms: ["scelgo","scegli","sceglie","scegliamo","scegliete","scelgono"] } }, english: { word: "to choose" } } },
            { id: 430, french: "decider", category: "verbe", gender: null, translations: { italian: { word: "decidere", conjugation: { type: "ere", stem: "decid" } }, english: { word: "to decide" } } },
            { id: 431, french: "continuer", category: "verbe", gender: null, translations: { italian: { word: "continuare", conjugation: { type: "are", stem: "continu" } }, english: { word: "to continue" } } },
            { id: 432, french: "arreter", category: "verbe", gender: null, translations: { italian: { word: "smettere", conjugation: { type: "ere", stem: "smett" } }, english: { word: "to stop" } } },
            { id: 433, french: "vivre", category: "verbe", gender: null, translations: { italian: { word: "vivere", conjugation: { type: "ere", stem: "viv" } }, english: { word: "to live" } } },
            { id: 434, french: "mourir", category: "verbe", gender: null, translations: { italian: { word: "morire", conjugation: { type: "ire-irreg", forms: ["muoio","muori","muore","moriamo","morite","muoiono"] } }, english: { word: "to die" } } },
            { id: 435, french: "naitre", category: "verbe", gender: null, translations: { italian: { word: "nascere", conjugation: { type: "ere", stem: "nasc" } }, english: { word: "to be born" } } },
            { id: 436, french: "grandir", category: "verbe", gender: null, translations: { italian: { word: "crescere", conjugation: { type: "ere", stem: "cresc" } }, english: { word: "to grow" } } },
            { id: 437, french: "devenir", category: "verbe", gender: null, translations: { italian: { word: "diventare", conjugation: { type: "are", stem: "divent" } }, english: { word: "to become" } } },
            { id: 438, french: "sembler", category: "verbe", gender: null, translations: { italian: { word: "sembrare", conjugation: { type: "are", stem: "sembr" } }, english: { word: "to seem" } } },
            { id: 439, french: "exister", category: "verbe", gender: null, translations: { italian: { word: "esistere", conjugation: { type: "ere", stem: "esist" } }, english: { word: "to exist" } } },
            { id: 440, french: "se reveiller", category: "verbe", gender: null, translations: { italian: { word: "svegliarsi", conjugation: { type: "are", stem: "svegli" } }, english: { word: "to wake up" } } },
            { id: 441, french: "s'habiller", category: "verbe", gender: null, translations: { italian: { word: "vestirsi", conjugation: { type: "ire", stem: "vest" } }, english: { word: "to get dressed" } } },
            { id: 442, french: "se lever", category: "verbe", gender: null, translations: { italian: { word: "alzarsi", conjugation: { type: "are", stem: "alz" } }, english: { word: "to get up" } } },
            { id: 443, french: "s'asseoir", category: "verbe", gender: null, translations: { italian: { word: "sedersi", conjugation: { type: "ere-irreg", forms: ["siedo","siedi","siede","sediamo","sedete","siedono"] } }, english: { word: "to sit down" } } },
            { id: 444, french: "s'entrainer", category: "verbe", gender: null, translations: { italian: { word: "allenarsi", conjugation: { type: "are", stem: "allen" } }, english: { word: "to train" } } },
            { id: 445, french: "voyager", category: "verbe", gender: null, translations: { italian: { word: "viaggiare", conjugation: { type: "are", stem: "viaggi" } }, english: { word: "to travel" } } },
            { id: 446, french: "voler", category: "verbe", gender: null, translations: { italian: { word: "volare", conjugation: { type: "are", stem: "vol" } }, english: { word: "to fly" } } },
            { id: 447, french: "atterrir", category: "verbe", gender: null, translations: { italian: { word: "atterrare", conjugation: { type: "are", stem: "atterr" } }, english: { word: "to land" } } },
            { id: 448, french: "decoller", category: "verbe", gender: null, translations: { italian: { word: "decollare", conjugation: { type: "are", stem: "decoll" } }, english: { word: "to take off" } } },
            { id: 449, french: "conduire", category: "verbe", gender: null, translations: { italian: { word: "guidare", conjugation: { type: "are", stem: "guid" } }, english: { word: "to drive" } } },
            { id: 450, french: "marcher", category: "verbe", gender: null, translations: { italian: { word: "camminare", conjugation: { type: "are", stem: "cammin" } }, english: { word: "to walk" } } },

            // ===== ADVERBS & EXPRESSIONS =====
            { id: 460, french: "toujours", category: "adverbe", gender: null, translations: { italian: { word: "sempre", conjugation: null }, english: { word: "always" } } },
            { id: 461, french: "jamais", category: "adverbe", gender: null, translations: { italian: { word: "mai", conjugation: null }, english: { word: "never" } } },
            { id: 462, french: "souvent", category: "adverbe", gender: null, translations: { italian: { word: "spesso", conjugation: null }, english: { word: "often" } } },
            { id: 463, french: "parfois", category: "adverbe", gender: null, translations: { italian: { word: "qualche volta", conjugation: null }, english: { word: "sometimes" } } },
            { id: 464, french: "maintenant", category: "adverbe", gender: null, translations: { italian: { word: "adesso", conjugation: null }, english: { word: "now" } } },
            { id: 465, french: "hier", category: "adverbe", gender: null, translations: { italian: { word: "ieri", conjugation: null }, english: { word: "yesterday" } } },
            { id: 466, french: "demain", category: "adverbe", gender: null, translations: { italian: { word: "domani", conjugation: null }, english: { word: "tomorrow" } } },
            { id: 467, french: "aujourd'hui", category: "adverbe", gender: null, translations: { italian: { word: "oggi", conjugation: null }, english: { word: "today" } } },
            { id: 468, french: "tard", category: "adverbe", gender: null, translations: { italian: { word: "tardi", conjugation: null }, english: { word: "late" } } },
            { id: 469, french: "tot", category: "adverbe", gender: null, translations: { italian: { word: "presto", conjugation: null }, english: { word: "early" } } },
            { id: 470, french: "ensemble", category: "adverbe", gender: null, translations: { italian: { word: "insieme", conjugation: null }, english: { word: "together" } } },
            { id: 471, french: "seul", category: "adverbe", gender: null, translations: { italian: { word: "solo", conjugation: null }, english: { word: "alone" } } },
            { id: 472, french: "bien", category: "adverbe", gender: null, translations: { italian: { word: "bene", conjugation: null }, english: { word: "well" } } },
            { id: 473, french: "mal", category: "adverbe", gender: null, translations: { italian: { word: "male", conjugation: null }, english: { word: "badly" } } },
            { id: 474, french: "vite", category: "adverbe", gender: null, translations: { italian: { word: "velocemente", conjugation: null }, english: { word: "quickly" } } },
            { id: 475, french: "lentement", category: "adverbe", gender: null, translations: { italian: { word: "lentamente", conjugation: null }, english: { word: "slowly" } } },
            { id: 476, french: "deja", category: "adverbe", gender: null, translations: { italian: { word: "gia", conjugation: null }, english: { word: "already" } } },
            { id: 477, french: "encore", category: "adverbe", gender: null, translations: { italian: { word: "ancora", conjugation: null }, english: { word: "still/again" } } },
            { id: 478, french: "peut-etre", category: "adverbe", gender: null, translations: { italian: { word: "forse", conjugation: null }, english: { word: "maybe" } } },
            { id: 479, french: "surtout", category: "adverbe", gender: null, translations: { italian: { word: "sopratutto", conjugation: null }, english: { word: "especially" } } },
            { id: 480, french: "vraiment", category: "adverbe", gender: null, translations: { italian: { word: "veramente", conjugation: null }, english: { word: "really" } } },
            { id: 481, french: "aussi", category: "adverbe", gender: null, translations: { italian: { word: "anche", conjugation: null }, english: { word: "also" } } },
            { id: 482, french: "donc", category: "adverbe", gender: null, translations: { italian: { word: "quindi", conjugation: null }, english: { word: "so/therefore" } } },
            { id: 483, french: "seulement", category: "adverbe", gender: null, translations: { italian: { word: "solo", conjugation: null }, english: { word: "only" } } },
            { id: 484, french: "ensuite", category: "adverbe", gender: null, translations: { italian: { word: "poi", conjugation: null }, english: { word: "then" } } },
            { id: 485, french: "alors", category: "adverbe", gender: null, translations: { italian: { word: "allora", conjugation: null }, english: { word: "then/so" } } },
            { id: 486, french: "de toute facon", category: "expression", gender: null, translations: { italian: { word: "comunque", conjugation: null }, english: { word: "anyway" } } },
            { id: 487, french: "en effet", category: "expression", gender: null, translations: { italian: { word: "infatti", conjugation: null }, english: { word: "indeed" } } },
            { id: 488, french: "au contraire", category: "expression", gender: null, translations: { italian: { word: "invece", conjugation: null }, english: { word: "on the contrary" } } },

            // ===== MORE NOUNS =====
            { id: 490, french: "ami", category: "nom", gender: "m", translations: { italian: { word: "amico", gender: "m", conjugation: null }, english: { word: "friend" } } },
            { id: 491, french: "collegue", category: "nom", gender: null, translations: { italian: { word: "collega", gender: "m", conjugation: null }, english: { word: "colleague" } } },
            { id: 492, french: "voisin", category: "nom", gender: "m", translations: { italian: { word: "vicino", gender: "m", conjugation: null }, english: { word: "neighbor" } } },
            { id: 493, french: "professeur", category: "nom", gender: "m", translations: { italian: { word: "professore", gender: "m", conjugation: null }, english: { word: "professor" } } },
            { id: 494, french: "medecin", category: "nom", gender: "m", translations: { italian: { word: "medico", gender: "m", conjugation: null }, english: { word: "doctor" } } },
            { id: 495, french: "directeur", category: "nom", gender: "m", translations: { italian: { word: "direttore", gender: "m", conjugation: null }, english: { word: "director" } } },
            { id: 496, french: "journaliste", category: "nom", gender: null, translations: { italian: { word: "giornalista", gender: "m", conjugation: null }, english: { word: "journalist" } } },
            { id: 497, french: "argent", category: "nom", gender: "m", translations: { italian: { word: "soldi", gender: "m", conjugation: null }, english: { word: "money" } } },
            { id: 498, french: "prix", category: "nom", gender: "m", translations: { italian: { word: "prezzo", gender: "m", conjugation: null }, english: { word: "price" } } },
            { id: 499, french: "lettre", category: "nom", gender: "f", translations: { italian: { word: "lettera", gender: "f", conjugation: null }, english: { word: "letter" } } },
            { id: 500, french: "livre", category: "nom", gender: "m", translations: { italian: { word: "libro", gender: "m", conjugation: null }, english: { word: "book" } } },
            { id: 501, french: "journal", category: "nom", gender: "m", translations: { italian: { word: "giornale", gender: "m", conjugation: null }, english: { word: "newspaper" } } },
            { id: 502, french: "chanson", category: "nom", gender: "f", translations: { italian: { word: "canzone", gender: "f", conjugation: null }, english: { word: "song" } } },
            { id: 503, french: "film", category: "nom", gender: "m", translations: { italian: { word: "film", gender: "m", conjugation: null }, english: { word: "movie" } } },
            { id: 504, french: "photo", category: "nom", gender: "f", translations: { italian: { word: "foto", gender: "f", conjugation: null }, english: { word: "photo" } } },
            { id: 505, french: "fete", category: "nom", gender: "f", translations: { italian: { word: "festa", gender: "f", conjugation: null }, english: { word: "party" } } },
            { id: 506, french: "cadeau", category: "nom", gender: "m", translations: { italian: { word: "regalo", gender: "m", conjugation: null }, english: { word: "gift" } } },
            { id: 507, french: "vacances", category: "nom", gender: "f", translations: { italian: { word: "vacanza", gender: "f", conjugation: null }, english: { word: "vacation" } } },
            { id: 508, french: "voyage", category: "nom", gender: "m", translations: { italian: { word: "viaggio", gender: "m", conjugation: null }, english: { word: "trip" } } },
            { id: 509, french: "valise", category: "nom", gender: "f", translations: { italian: { word: "valigia", gender: "f", conjugation: null }, english: { word: "suitcase" } } },
            { id: 510, french: "passeport", category: "nom", gender: "m", translations: { italian: { word: "passaporto", gender: "m", conjugation: null }, english: { word: "passport" } } },
            { id: 511, french: "vol", category: "nom", gender: "m", translations: { italian: { word: "volo", gender: "m", conjugation: null }, english: { word: "flight" } } },
            { id: 512, french: "depart", category: "nom", gender: "m", translations: { italian: { word: "partenza", gender: "f", conjugation: null }, english: { word: "departure" } } },
            { id: 513, french: "arrivee", category: "nom", gender: "f", translations: { italian: { word: "arrivo", gender: "m", conjugation: null }, english: { word: "arrival" } } },
            { id: 514, french: "retard", category: "nom", gender: "m", translations: { italian: { word: "ritardo", gender: "m", conjugation: null }, english: { word: "delay" } } },
            { id: 515, french: "chien", category: "nom", gender: "m", translations: { italian: { word: "cane", gender: "m", conjugation: null }, english: { word: "dog" } } },
            { id: 516, french: "chat", category: "nom", gender: "m", translations: { italian: { word: "gatto", gender: "m", conjugation: null }, english: { word: "cat" } } },
            { id: 517, french: "oiseau", category: "nom", gender: "m", translations: { italian: { word: "uccello", gender: "m", conjugation: null }, english: { word: "bird" } } },
            { id: 518, french: "arbre", category: "nom", gender: "m", translations: { italian: { word: "albero", gender: "m", conjugation: null }, english: { word: "tree" } } },
            { id: 519, french: "fleur", category: "nom", gender: "f", translations: { italian: { word: "fiore", gender: "m", conjugation: null }, english: { word: "flower" } } },
            { id: 520, french: "soleil", category: "nom", gender: "m", translations: { italian: { word: "sole", gender: "m", conjugation: null }, english: { word: "sun" } } },
            { id: 521, french: "lune", category: "nom", gender: "f", translations: { italian: { word: "luna", gender: "f", conjugation: null }, english: { word: "moon" } } },
            { id: 522, french: "etoile", category: "nom", gender: "f", translations: { italian: { word: "stella", gender: "f", conjugation: null }, english: { word: "star" } } },
            { id: 523, french: "ciel", category: "nom", gender: "m", translations: { italian: { word: "cielo", gender: "m", conjugation: null }, english: { word: "sky" } } },
            { id: 524, french: "nuage", category: "nom", gender: "m", translations: { italian: { word: "nuvola", gender: "f", conjugation: null }, english: { word: "cloud" } } },
            { id: 525, french: "pluie", category: "nom", gender: "f", translations: { italian: { word: "pioggia", gender: "f", conjugation: null }, english: { word: "rain" } } },
            { id: 526, french: "neige", category: "nom", gender: "f", translations: { italian: { word: "neve", gender: "f", conjugation: null }, english: { word: "snow" } } },
            { id: 527, french: "vent", category: "nom", gender: "m", translations: { italian: { word: "vento", gender: "m", conjugation: null }, english: { word: "wind" } } },
            { id: 528, french: "mer", category: "nom", gender: "f", translations: { italian: { word: "mare", gender: "m", conjugation: null }, english: { word: "sea" } } },
            { id: 529, french: "montagne", category: "nom", gender: "f", translations: { italian: { word: "montagna", gender: "f", conjugation: null }, english: { word: "mountain" } } },
            { id: 530, french: "plage", category: "nom", gender: "f", translations: { italian: { word: "spiaggia", gender: "f", conjugation: null }, english: { word: "beach" } } },
            { id: 531, french: "hiver", category: "nom", gender: "m", translations: { italian: { word: "inverno", gender: "m", conjugation: null }, english: { word: "winter" } } },
            { id: 532, french: "ete", category: "nom", gender: "m", translations: { italian: { word: "estate", gender: "f", conjugation: null }, english: { word: "summer" } } },
            { id: 533, french: "printemps", category: "nom", gender: "m", translations: { italian: { word: "primavera", gender: "f", conjugation: null }, english: { word: "spring" } } },
            { id: 534, french: "automne", category: "nom", gender: "m", translations: { italian: { word: "autunno", gender: "m", conjugation: null }, english: { word: "autumn" } } },
            { id: 535, french: "nord", category: "nom", gender: "m", translations: { italian: { word: "nord", gender: "m", conjugation: null }, english: { word: "north" } } },
            { id: 536, french: "sud", category: "nom", gender: "m", translations: { italian: { word: "sud", gender: "m", conjugation: null }, english: { word: "south" } } },
            { id: 537, french: "est", category: "nom", gender: "m", translations: { italian: { word: "est", gender: "m", conjugation: null }, english: { word: "east" } } },
            { id: 538, french: "ouest", category: "nom", gender: "m", translations: { italian: { word: "ovest", gender: "m", conjugation: null }, english: { word: "west" } } },
            { id: 539, french: "gauche", category: "nom", gender: "f", translations: { italian: { word: "sinistra", gender: "f", conjugation: null }, english: { word: "left" } } },
            { id: 540, french: "droite", category: "nom", gender: "f", translations: { italian: { word: "destra", gender: "f", conjugation: null }, english: { word: "right" } } },
            { id: 541, french: "cote", category: "nom", gender: "m", translations: { italian: { word: "lato", gender: "m", conjugation: null }, english: { word: "side" } } },
            { id: 542, french: "centre", category: "nom", gender: "m", translations: { italian: { word: "centro", gender: "m", conjugation: null }, english: { word: "center" } } },
            { id: 543, french: "debut", category: "nom", gender: "m", translations: { italian: { word: "inizio", gender: "m", conjugation: null }, english: { word: "beginning" } } },
            { id: 544, french: "fin", category: "nom", gender: "f", translations: { italian: { word: "fine", gender: "f", conjugation: null }, english: { word: "end" } } },
            { id: 545, french: "vie", category: "nom", gender: "f", translations: { italian: { word: "vita", gender: "f", conjugation: null }, english: { word: "life" } } },
            { id: 546, french: "mort", category: "nom", gender: "f", translations: { italian: { word: "morte", gender: "f", conjugation: null }, english: { word: "death" } } },
            { id: 547, french: "sante", category: "nom", gender: "f", translations: { italian: { word: "salute", gender: "f", conjugation: null }, english: { word: "health" } } },
            { id: 548, french: "fievre", category: "nom", gender: "f", translations: { italian: { word: "febbre", gender: "f", conjugation: null }, english: { word: "fever" } } },
            { id: 549, french: "douleur", category: "nom", gender: "f", translations: { italian: { word: "dolore", gender: "m", conjugation: null }, english: { word: "pain" } } },
            { id: 550, french: "voix", category: "nom", gender: "f", translations: { italian: { word: "voce", gender: "f", conjugation: null }, english: { word: "voice" } } },

            // ===== AUTO-GENERATED FOR PARAGRAPHS (needs review) =====
            { id: 600, french: "le", category: "article", gender: "m", needsReview: true, translations: { italian: { word: "il", gender: "m", conjugation: null }, english: { word: "the" } } },
            { id: 601, french: "la", category: "article", gender: "f", needsReview: true, translations: { italian: { word: "la", gender: "f", conjugation: null }, english: { word: "the" } } },
            { id: 602, french: "les", category: "article", gender: "p", needsReview: true, translations: { italian: { word: "i/le", gender: "p", conjugation: null }, english: { word: "the" } } },
            { id: 603, french: "philosophe", category: "nom", gender: "m", needsReview: true, translations: { italian: { word: "filosofo", gender: "m", conjugation: null }, english: { word: "philosopher" } } },
            { id: 604, french: "dans", category: "preposition", gender: null, needsReview: true, translations: { italian: { word: "in", conjugation: null }, english: { word: "in" } } },
            { id: 605, french: "ancien", category: "adjectif", gender: "m", needsReview: true, translations: { italian: { word: "antico", conjugation: null }, english: { word: "ancient/old" } } },

            // ===== ILIAD VOCABULARY (Ancient Greek → French) =====
            { id: 700, french: "colère", category: "nom", gender: "f", needsReview: false, translations: { greek: { word: "μῆνις", romanized: "menis", meaning: "Colère sacrée, rage divine. Distinct de χόλος (colère ordinaire). Implique une sanction cosmique contre une transgression morale. Mot inaugural de l'Iliade.", declension: "3rd", gender: "f" }, english: { word: "wrath" } } },
            { id: 701, french: "chanter", category: "verbe", gender: null, needsReview: false, translations: { greek: { word: "ἀείδω", romanized: "aeido", meaning: "Chanter, célébrer en vers. Forme épique non contractée (attique: ᾄδω). Transitif avec accusatif du thème chanté.", conjugation: { type: "ω", stem: "ἀειδ" } }, english: { word: "to sing" } } },
            { id: 702, french: "deesse", category: "nom", gender: "f", needsReview: true, translations: { greek: { word: "θεά", romanized: "thea", meaning: "Goddess (feminine of θεός).", declension: "1st", gender: "f" }, english: { word: "goddess" } } },
            { id: 703, french: "Achille", category: "nom propre", gender: "m", needsReview: true, translations: { greek: { word: "Ἀχιλλεύς", romanized: "Achilleus", meaning: "Achilles, son of Peleus and Thetis, greatest Greek warrior." }, english: { word: "Achilles" } } },
            { id: 704, french: "Pelide", category: "nom propre", gender: "m", needsReview: true, translations: { greek: { word: "Πηληϊάδης", romanized: "Peleïades", meaning: "Son of Peleus (patronymic for Achilles)." }, english: { word: "son of Peleus" } } },
            { id: 705, french: "maudit", category: "adjectif", gender: "m", needsReview: true, translations: { greek: { word: "οὐλόμενος", romanized: "oulomenos", meaning: "Accursed, destructive, baneful.", declension: "1st/2nd" }, english: { word: "accursed" } } },
            { id: 706, french: "innombrable", category: "adjectif", gender: "m", needsReview: true, translations: { greek: { word: "μυρίος", romanized: "myrios", meaning: "Countless, numberless, ten thousand.", declension: "1st/2nd" }, english: { word: "countless" } } },
            { id: 707, french: "Acheens", category: "nom propre", gender: "m", needsReview: true, translations: { greek: { word: "Ἀχαιοί", romanized: "Achaioi", meaning: "Achaeans, one of Homer's names for the Greeks." }, english: { word: "Achaeans" } } },
            { id: 708, french: "douleur", category: "nom", gender: "f", needsReview: true, translations: { greek: { word: "ἄλγος", romanized: "algos", meaning: "Pain, grief, sorrow.", declension: "3rd", gender: "n" }, english: { word: "pain" } } },
            { id: 709, french: "placer", category: "verbe", gender: null, needsReview: true, translations: { greek: { word: "τίθημι", romanized: "tithemi", meaning: "To put, place, set. Irregular athematic verb.", conjugation: { type: "μι-irreg" } }, english: { word: "to put" } } },
            { id: 710, french: "nombreux", category: "adjectif", gender: "m", needsReview: true, translations: { greek: { word: "πολύς", romanized: "polys", meaning: "Many, much, numerous.", declension: "3rd" }, english: { word: "many" } } },
            { id: 711, french: "vaillant", category: "adjectif", gender: "m", needsReview: true, translations: { greek: { word: "ἴφθιμος", romanized: "iphthimos", meaning: "Mighty, stout, valiant.", declension: "1st/2nd" }, english: { word: "mighty" } } },
            { id: 712, french: "Hades", category: "nom propre", gender: "m", needsReview: true, translations: { greek: { word: "Ἅιδης", romanized: "Haides", meaning: "Hades, god of the underworld; also the underworld itself." }, english: { word: "Hades" } } },
            { id: 713, french: "envoyer", category: "verbe", gender: null, needsReview: true, translations: { greek: { word: "προϊάπτω", romanized: "proiapto", meaning: "To send forth, hurl down.", conjugation: { type: "ω", stem: "προϊαπτ" } }, english: { word: "to send forth" } } },
            { id: 714, french: "heros", category: "nom", gender: "m", needsReview: true, translations: { greek: { word: "ἥρως", romanized: "heros", meaning: "Hero, warrior, demigod.", declension: "3rd", gender: "m" }, english: { word: "hero" } } },
            { id: 715, french: "lui-meme", category: "pronom", gender: "m", needsReview: true, translations: { greek: { word: "αὐτός", romanized: "autos", meaning: "Self, himself; same; he/she/it.", declension: "1st/2nd" }, english: { word: "himself" } } },
            { id: 716, french: "proie", category: "nom", gender: "f", needsReview: true, translations: { greek: { word: "ἑλώριον", romanized: "helorion", meaning: "Prey, spoil, booty.", declension: "2nd", gender: "n" }, english: { word: "prey" } } },
            { id: 717, french: "fabriquer", category: "verbe", gender: null, needsReview: true, translations: { greek: { word: "τεύχω", romanized: "teukho", meaning: "To make, prepare, build.", conjugation: { type: "ω", stem: "τευχ" } }, english: { word: "to make" } } },
            { id: 718, french: "chien", category: "nom", gender: "m", needsReview: true, translations: { greek: { word: "κύων", romanized: "kyon", meaning: "Dog.", declension: "3rd", gender: "m" }, italian: { word: "cane", gender: "m" }, english: { word: "dog" } } },
            { id: 719, french: "oiseau", category: "nom", gender: "m", needsReview: true, translations: { greek: { word: "οἰωνός", romanized: "oionos", meaning: "Bird of omen, large bird.", declension: "2nd", gender: "m" }, italian: { word: "uccello", gender: "m" }, english: { word: "bird" } } },
            { id: 720, french: "tout", category: "adjectif", gender: "m", needsReview: true, translations: { greek: { word: "πᾶς", romanized: "pas", meaning: "All, every, whole.", declension: "3rd" }, italian: { word: "tutto" }, english: { word: "all" } } },
            { id: 721, french: "Zeus", category: "nom propre", gender: "m", needsReview: true, translations: { greek: { word: "Ζεύς", romanized: "Zeus", meaning: "Zeus, king of the gods, god of thunder." }, english: { word: "Zeus" } } },
            { id: 722, french: "accomplir", category: "verbe", gender: null, needsReview: true, translations: { greek: { word: "τελέω", romanized: "teleo", meaning: "To complete, fulfill, accomplish.", conjugation: { type: "ω-contract-ε", stem: "τελ" } }, english: { word: "to fulfill" } } },
            { id: 723, french: "volonte", category: "nom", gender: "f", needsReview: true, translations: { greek: { word: "βουλή", romanized: "boule", meaning: "Will, counsel, plan, decision.", declension: "1st", gender: "f" }, english: { word: "will" } } },
            { id: 724, french: "de", category: "preposition", gender: null, needsReview: true, translations: { greek: { word: "ἐξ/ἐκ", romanized: "ex/ek", meaning: "From, out of." }, italian: { word: "di" }, english: { word: "from" } } },
            { id: 725, french: "qui", category: "pronom", gender: null, needsReview: true, translations: { greek: { word: "ὅς", romanized: "hos", meaning: "Who, which, that (relative pronoun)." }, italian: { word: "che" }, english: { word: "who" } } },
            { id: 726, french: "certes", category: "adverbe", gender: null, needsReview: true, translations: { greek: { word: "δή", romanized: "de", meaning: "Indeed, certainly, now (emphatic particle)." }, english: { word: "indeed" } } },
            { id: 727, french: "premier", category: "adjectif", gender: "m", needsReview: true, translations: { greek: { word: "πρῶτος", romanized: "protos", meaning: "First, foremost.", declension: "1st/2nd" }, italian: { word: "primo" }, english: { word: "first" } } },
            { id: 728, french: "separer", category: "verbe", gender: null, needsReview: true, translations: { greek: { word: "διίστημι", romanized: "diistemi", meaning: "To set apart, separate, stand apart.", conjugation: { type: "μι-irreg" } }, english: { word: "to separate" } } },
            { id: 729, french: "disputer", category: "verbe", gender: null, needsReview: true, translations: { greek: { word: "ἐρίζω", romanized: "erizo", meaning: "To strive, quarrel, contend.", conjugation: { type: "ω", stem: "ἐριδ" } }, english: { word: "to quarrel" } } },
            { id: 730, french: "Atride", category: "nom propre", gender: "m", needsReview: true, translations: { greek: { word: "Ἀτρεΐδης", romanized: "Atreides", meaning: "Son of Atreus (Agamemnon or Menelaus)." }, english: { word: "son of Atreus" } } },
            { id: 731, french: "roi", category: "nom", gender: "m", needsReview: true, translations: { greek: { word: "ἄναξ", romanized: "anax", meaning: "Lord, king, master.", declension: "3rd", gender: "m" }, italian: { word: "re", gender: "m" }, english: { word: "king" } } },
            { id: 732, french: "homme", category: "nom", gender: "m", needsReview: true, translations: { greek: { word: "ἀνήρ", romanized: "aner", meaning: "Man (as opposed to woman), husband, warrior.", declension: "3rd", gender: "m" }, italian: { word: "uomo", gender: "m" }, english: { word: "man" } } },
            { id: 733, french: "et", category: "conjonction", gender: null, needsReview: true, translations: { greek: { word: "καί", romanized: "kai", meaning: "And, also, even." }, italian: { word: "e" }, english: { word: "and" } } },
            { id: 734, french: "divin", category: "adjectif", gender: "m", needsReview: true, translations: { greek: { word: "δῖος", romanized: "dios", meaning: "Divine, godlike, noble.", declension: "1st/2nd" }, italian: { word: "divino" }, english: { word: "divine" } } },
            { id: 735, french: "et-aussi", category: "particule", gender: null, needsReview: true, translations: { greek: { word: "τε", romanized: "te", meaning: "And (enclitic, connects closely related items)." }, english: { word: "and" } } },
            { id: 736, french: "mais", category: "conjonction", gender: null, needsReview: true, translations: { greek: { word: "δέ", romanized: "de", meaning: "But, and, on the other hand (postpositive particle)." }, italian: { word: "ma" }, english: { word: "but" } } },
            { id: 737, french: "article-le", category: "article", gender: "m", needsReview: true, translations: { greek: { word: "ὁ/ἡ/τό", romanized: "ho/he/to", meaning: "The (definite article)." }, english: { word: "the" } } },
        ];

        // ==================== TEXTS DATA (Text-first architecture) ====================
        const defaultTexts = [
            {
                id: 1,
                title: "La quête du philosophe",
                sourceLanguage: "french",
                targetLanguage: "italian",
                sentences: [
                    {
                        num: 1,
                        text: "Le philosophe cherche la sagesse dans les livres anciens.",
                        translation: "Il filosofo cerca la saggezza nei libri antichi.",
                        tokens: [
                            { form: "Le", lemma: "le", wordId: 600 },
                            { form: "philosophe", lemma: "philosophe", wordId: 603 },
                            { form: "cherche", lemma: "chercher", wordId: 60 },
                            { form: "la", lemma: "la", wordId: 601 },
                            { form: "sagesse", lemma: "sagesse", wordId: 2 },
                            { form: "dans", lemma: "dans", wordId: 604 },
                            { form: "les", lemma: "les", wordId: 602 },
                            { form: "livres", lemma: "livre", wordId: 500 },
                            { form: "anciens", lemma: "ancien", wordId: 605 }
                        ]
                    }
                ]
            },
            {
                id: 2,
                title: "Iliade, Chant I (v. 1-7)",
                author: "Homère",
                sourceLanguage: "greek",
                targetLanguage: "french",
                sentences: [
                    {
                        num: 1,
                        text: "μῆνιν ἄειδε θεὰ Πηληϊάδεω Ἀχιλῆος",
                        translation: "Chante, déesse, la colère d'Achille fils de Pélée,",
                        tokens: [
                            { form: "μῆνιν", lemma: "μῆνις", wordId: 700, formInfo: "Accusatif singulier féminin — objet direct de ἄειδε" },
                            { form: "ἄειδε", lemma: "ἀείδω", wordId: 701, formInfo: "Impératif aoriste, 2ème personne du singulier" },
                            { form: "θεὰ", lemma: "θεά", wordId: 702, formInfo: "Vocatif singulier féminin (= nominatif en -ᾱ) — invocation à la Muse (Calliope)" },
                            { form: "Πηληϊάδεω", lemma: "Πηληϊάδης", wordId: 704, formInfo: "Génitif singulier masculin — forme ionique/épique en -εω" },
                            { form: "Ἀχιλῆος", lemma: "Ἀχιλλεύς", wordId: 703, formInfo: "Génitif singulier masculin — complément de Πηληϊάδεω" }
                        ]
                    },
                    {
                        num: 2,
                        text: "οὐλομένην, ἣ μυρί' Ἀχαιοῖς ἄλγε' ἔθηκε,",
                        translation: "cette colère funeste, qui causa aux Achéens d'innombrables maux,",
                        tokens: [
                            { form: "οὐλομένην", lemma: "οὐλόμενος", wordId: 705, formInfo: "Accusatif singulier féminin — participe moyen/passif, accord avec μῆνιν" },
                            { form: "ἣ", lemma: "ὅς", wordId: 725, formInfo: "Nominatif singulier féminin — pronom relatif, antécédent: μῆνιν" },
                            { form: "μυρί'", lemma: "μυρίος", wordId: 706, formInfo: "Accusatif pluriel neutre — élision de μυρία devant voyelle" },
                            { form: "Ἀχαιοῖς", lemma: "Ἀχαιοί", wordId: 707, formInfo: "Datif pluriel masculin — complément d'attribution" },
                            { form: "ἄλγε'", lemma: "ἄλγος", wordId: 708, formInfo: "Accusatif pluriel neutre — élision de ἄλγεα, objet de ἔθηκε" },
                            { form: "ἔθηκε", lemma: "τίθημι", wordId: 709, formInfo: "Aoriste indicatif actif, 3ème personne du singulier" }
                        ]
                    },
                    {
                        num: 3,
                        text: "πολλὰς δ' ἰφθίμους ψυχὰς Ἄϊδι προΐαψεν",
                        translation: "et précipita chez Hadès maintes âmes vaillantes",
                        tokens: [
                            { form: "πολλὰς", lemma: "πολύς", wordId: 710, formInfo: "Accusatif pluriel féminin — accord avec ψυχάς" },
                            { form: "δ'", lemma: "δέ", wordId: 736, formInfo: "Particule postpositive — élision de δέ, valeur adversative légère" },
                            { form: "ἰφθίμους", lemma: "ἴφθιμος", wordId: 711, formInfo: "Accusatif pluriel féminin — épithète de ψυχάς" },
                            { form: "ψυχὰς", lemma: "ψυχή", wordId: 9, formInfo: "Accusatif pluriel féminin — objet de προΐαψεν" },
                            { form: "Ἄϊδι", lemma: "Ἅιδης", wordId: 712, formInfo: "Datif singulier masculin — complément de direction (vers Hadès)" },
                            { form: "προΐαψεν", lemma: "προϊάπτω", wordId: 713, formInfo: "Aoriste indicatif actif, 3ème personne du singulier" }
                        ]
                    },
                    {
                        num: 4,
                        text: "ἡρώων, αὐτοὺς δὲ ἑλώρια τεῦχε κύνεσσιν",
                        translation: "de héros, livrant leurs corps en proie aux chiens",
                        tokens: [
                            { form: "ἡρώων", lemma: "ἥρως", wordId: 714, formInfo: "Génitif pluriel masculin — complément de ψυχάς" },
                            { form: "αὐτοὺς", lemma: "αὐτός", wordId: 715, formInfo: "Accusatif pluriel masculin — pronom intensif, réfère aux héros" },
                            { form: "δὲ", lemma: "δέ", wordId: 736, formInfo: "Particule postpositive — opposition avec la proposition précédente" },
                            { form: "ἑλώρια", lemma: "ἑλώριον", wordId: 716, formInfo: "Accusatif pluriel neutre — attribut de αὐτούς (double accusatif)" },
                            { form: "τεῦχε", lemma: "τεύχω", wordId: 717, formInfo: "Imparfait indicatif actif, 3ème personne du singulier" },
                            { form: "κύνεσσιν", lemma: "κύων", wordId: 718, formInfo: "Datif pluriel masculin — forme épique en -εσσι, complément d'attribution" }
                        ]
                    },
                    {
                        num: 5,
                        text: "οἰωνοῖσί τε πᾶσι, Διὸς δ' ἐτελείετο βουλή,",
                        translation: "et à tous les oiseaux — ainsi s'accomplissait la volonté de Zeus —",
                        tokens: [
                            { form: "οἰωνοῖσί", lemma: "οἰωνός", wordId: 719, formInfo: "Datif pluriel masculin — forme épique avec -ι final mobile" },
                            { form: "τε", lemma: "τε", wordId: 735, formInfo: "Particule enclitique — coordination étroite (κύνεσσιν... τε... τε)" },
                            { form: "πᾶσι", lemma: "πᾶς", wordId: 720, formInfo: "Datif pluriel masculin/neutre — accord avec οἰωνοῖσί" },
                            { form: "Διὸς", lemma: "Ζεύς", wordId: 721, formInfo: "Génitif singulier masculin — complément de βουλή" },
                            { form: "δ'", lemma: "δέ", wordId: 736, formInfo: "Particule postpositive — transition vers nouvelle proposition" },
                            { form: "ἐτελείετο", lemma: "τελέω", wordId: 722, formInfo: "Imparfait indicatif moyen/passif, 3ème personne du singulier" },
                            { form: "βουλή", lemma: "βουλή", wordId: 723, formInfo: "Nominatif singulier féminin — sujet de ἐτελείετο" }
                        ]
                    },
                    {
                        num: 6,
                        text: "ἐξ οὗ δὴ τὰ πρῶτα διαστήτην ἐρίσαντε",
                        translation: "depuis le jour où une querelle divisa",
                        tokens: [
                            { form: "ἐξ", lemma: "ἐξ", wordId: 724, formInfo: "Préposition + génitif — sens temporel 'depuis que'" },
                            { form: "οὗ", lemma: "ὅς", wordId: 725, formInfo: "Génitif singulier masculin/neutre — pronom relatif temporel" },
                            { form: "δὴ", lemma: "δή", wordId: 726, formInfo: "Particule emphatique — renforce τὰ πρῶτα" },
                            { form: "τὰ", lemma: "ὁ", wordId: 737, formInfo: "Accusatif pluriel neutre — article avec πρῶτα (adverbial)" },
                            { form: "πρῶτα", lemma: "πρῶτος", wordId: 727, formInfo: "Accusatif pluriel neutre — emploi adverbial 'pour la première fois'" },
                            { form: "διαστήτην", lemma: "διίστημι", wordId: 728, formInfo: "Aoriste indicatif actif, 3ème personne du DUEL — deux sujets" },
                            { form: "ἐρίσαντε", lemma: "ἐρίζω", wordId: 729, formInfo: "Participe aoriste actif, nominatif DUEL — accord avec le sujet duel" }
                        ]
                    },
                    {
                        num: 7,
                        text: "Ἀτρεΐδης τε ἄναξ ἀνδρῶν καὶ δῖος Ἀχιλλεύς.",
                        translation: "l'Atride, roi des hommes, et le divin Achille.",
                        tokens: [
                            { form: "Ἀτρεΐδης", lemma: "Ἀτρεΐδης", wordId: 730, formInfo: "Nominatif singulier masculin — premier sujet du duel (Agamemnon)" },
                            { form: "τε", lemma: "τε", wordId: 735, formInfo: "Particule enclitique — lie les deux sujets du duel" },
                            { form: "ἄναξ", lemma: "ἄναξ", wordId: 731, formInfo: "Nominatif singulier masculin — apposition à Ἀτρεΐδης" },
                            { form: "ἀνδρῶν", lemma: "ἀνήρ", wordId: 732, formInfo: "Génitif pluriel masculin — complément de ἄναξ" },
                            { form: "καὶ", lemma: "καί", wordId: 733, formInfo: "Conjonction de coordination — introduit le second sujet" },
                            { form: "δῖος", lemma: "δῖος", wordId: 734, formInfo: "Nominatif singulier masculin — épithète homérique d'Achille" },
                            { form: "Ἀχιλλεύς", lemma: "Ἀχιλλεύς", wordId: 703, formInfo: "Nominatif singulier masculin — second sujet du duel" }
                        ]
                    }
                ]
            }
        ];

        // ==================== STATE ====================
        let words = [];
        let texts = [];
        let favorites = [];
        let currentView = 'texts'; // 'texts' or 'dictionary'
        let currentTextId = null;
        let currentSentenceNum = null;
        let currentSort = 'alpha-asc';
        let searchQuery = '';
        let editingId = null;

        // ==================== INITIALIZATION ====================
        function init() {
            loadData();
            setupEventListeners();
            render();
            document.getElementById('app-version').textContent = 'v' + DICT_VERSION;
        }

        function loadData() {
            const savedVersion = localStorage.getItem('dict-version');
            const savedWords = localStorage.getItem('dict-words');
            const savedFavorites = localStorage.getItem('dict-favorites');
            const savedTexts = localStorage.getItem('dict-texts');

            if (savedVersion !== String(DICT_VERSION)) {
                let customWords = [];
                if (savedWords) {
                    const oldWords = JSON.parse(savedWords);
                    customWords = oldWords.filter(w => w.custom);
                }
                words = [...defaultWords.map(w => ({...w, custom: false})), ...customWords];
                texts = [...defaultTexts];
                localStorage.setItem('dict-version', DICT_VERSION);
                saveWords();
                saveTexts();
            } else if (savedWords) {
                words = JSON.parse(savedWords);
                texts = savedTexts ? JSON.parse(savedTexts) : [...defaultTexts];
            } else {
                words = [...defaultWords.map(w => ({...w, custom: false}))];
                texts = [...defaultTexts];
                localStorage.setItem('dict-version', DICT_VERSION);
                saveWords();
                saveTexts();
            }

            favorites = savedFavorites ? JSON.parse(savedFavorites) : [];
        }

        function saveWords() {
            localStorage.setItem('dict-words', JSON.stringify(words));
        }

        function saveTexts() {
            localStorage.setItem('dict-texts', JSON.stringify(texts));
        }

        function saveFavorites() {
            localStorage.setItem('dict-favorites', JSON.stringify(favorites));
        }

        // ==================== EVENT LISTENERS ====================
        function setupEventListeners() {
            // Navigation tabs
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.addEventListener('click', () => {
                    document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    currentView = tab.dataset.view;
                    currentTextId = null;
                    updateUIForView();
                    render();
                });
            });

            document.getElementById('search').addEventListener('input', (e) => {
                searchQuery = e.target.value.toLowerCase();
                render();
            });

            document.getElementById('sort-select').addEventListener('change', (e) => {
                currentSort = e.target.value;
                render();
            });

            document.getElementById('add-btn').addEventListener('click', () => openModal());
            document.getElementById('cancel-btn').addEventListener('click', closeModal);
            document.getElementById('save-btn').addEventListener('click', saveWord);
            document.getElementById('modal').addEventListener('click', (e) => {
                if (e.target.id === 'modal') closeModal();
            });

            // Menu toggle
            document.getElementById('menu-btn').addEventListener('click', (e) => {
                e.stopPropagation();
                document.getElementById('menu-popup').classList.toggle('active');
            });

            document.addEventListener('click', (e) => {
                const menu = document.getElementById('menu-popup');
                const menuBtn = document.getElementById('menu-btn');
                if (!menu.contains(e.target) && e.target !== menuBtn) {
                    menu.classList.remove('active');
                }
            });
        }

        // ==================== EXPORT / IMPORT ====================
        function showToast(message, type = 'success') {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.className = 'toast ' + type + ' show';
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        function exportData() {
            const data = {
                version: DICT_VERSION,
                exportDate: new Date().toISOString(),
                totalWords: words.length,
                customWords: words.filter(w => w.custom).length,
                favorites: favorites,
                words: words
            };

            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `dictionnaire-backup-${new Date().toISOString().split('T')[0]}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);

            document.getElementById('menu-popup').classList.remove('active');
            showToast('Sauvegarde exportee !', 'success');
        }

        function exportCustomOnly() {
            const customWords = words.filter(w => w.custom);

            if (customWords.length === 0) {
                showToast('Aucun mot personnalise a exporter', 'error');
                document.getElementById('menu-popup').classList.remove('active');
                return;
            }

            const data = {
                version: DICT_VERSION,
                exportDate: new Date().toISOString(),
                type: 'custom-only',
                totalWords: customWords.length,
                favorites: favorites.filter(id => customWords.some(w => w.id === id)),
                words: customWords
            };

            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `dictionnaire-perso-${new Date().toISOString().split('T')[0]}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);

            document.getElementById('menu-popup').classList.remove('active');
            showToast(customWords.length + ' mots perso exportes !', 'success');
        }

        function triggerImport() {
            document.getElementById('menu-popup').classList.remove('active');
            document.getElementById('import-input').click();
        }

        function importData(event) {
            const file = event.target.files[0];
            if (!file) return;

            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const data = JSON.parse(e.target.result);

                    if (!data.words || !Array.isArray(data.words)) {
                        throw new Error('Format invalide');
                    }

                    // Check if it's custom-only export
                    if (data.type === 'custom-only') {
                        // Merge custom words with existing
                        let addedCount = 0;
                        data.words.forEach(importedWord => {
                            const exists = words.some(w =>
                                w.french.toLowerCase() === importedWord.french.toLowerCase() &&
                                w.custom === true
                            );
                            if (!exists) {
                                // Generate new ID to avoid conflicts
                                importedWord.id = Date.now() + Math.random();
                                importedWord.custom = true;
                                words.push(importedWord);
                                addedCount++;
                            }
                        });
                        saveWords();
                        render();
                        showToast(addedCount + ' nouveaux mots importes !', 'success');
                    } else {
                        // Full backup - ask for confirmation
                        const customCount = words.filter(w => w.custom).length;
                        const msg = customCount > 0
                            ? `Remplacer toutes les donnees ? (${customCount} mots perso seront perdus)`
                            : 'Remplacer toutes les donnees ?';

                        if (confirm(msg)) {
                            words = data.words;
                            favorites = data.favorites || [];
                            saveWords();
                            saveFavorites();
                            render();
                            showToast('Donnees restaurees ! (' + words.length + ' mots)', 'success');
                        }
                    }
                } catch (err) {
                    console.error('Import error:', err);
                    showToast('Erreur: fichier invalide', 'error');
                }
            };
            reader.readAsText(file);

            // Reset input so same file can be imported again
            event.target.value = '';
        }

        function showStats() {
            document.getElementById('menu-popup').classList.remove('active');

            const customWords = words.filter(w => w.custom);
            const italianWords = words.filter(w => w.translations?.italian);
            const greekWords = words.filter(w => w.translations?.greek);
            const englishWords = words.filter(w => w.translations?.english);
            const verbs = words.filter(w => w.category === 'verbe');
            const nouns = words.filter(w => w.category === 'nom');

            const stats = `
Statistiques du dictionnaire
============================
Total: ${words.length} mots
Mots personnalises: ${customWords.length}
Favoris: ${favorites.length}

Par langue:
- Italien: ${italianWords.length}
- Grec ancien: ${greekWords.length}
- Anglais: ${englishWords.length}

Par categorie:
- Noms: ${nouns.length}
- Verbes: ${verbs.length}
- Autres: ${words.length - nouns.length - verbs.length}

Stockage local utilise: ~${Math.round(JSON.stringify(words).length / 1024)} Ko
            `.trim();

            alert(stats);
        }

        // ==================== MODAL ====================
        function openModal(id = null) {
            editingId = id;
            document.getElementById('modal-title').textContent = id ? 'Modifier le mot' : 'Ajouter un mot';

            if (id) {
                const word = words.find(w => w.id === id);
                if (word) {
                    document.getElementById('input-french').value = word.french;
                    document.getElementById('input-category').value = word.category;
                    document.getElementById('input-gender').value = word.gender || '';
                    document.getElementById('input-italian').value = word.translations?.italian?.word || '';
                    document.getElementById('input-greek').value = word.translations?.greek?.word || '';
                    document.getElementById('input-romanized').value = word.translations?.greek?.romanized || '';
                    document.getElementById('input-greek-meaning').value = word.translations?.greek?.meaning || '';
                    document.getElementById('input-english').value = word.translations?.english?.word || '';
                }
            } else {
                document.getElementById('input-french').value = '';
                document.getElementById('input-category').value = 'nom';
                document.getElementById('input-gender').value = '';
                document.getElementById('input-italian').value = '';
                document.getElementById('input-greek').value = '';
                document.getElementById('input-romanized').value = '';
                document.getElementById('input-greek-meaning').value = '';
                document.getElementById('input-english').value = '';
            }

            document.getElementById('modal').classList.add('active');
        }

        function closeModal() {
            document.getElementById('modal').classList.remove('active');
            editingId = null;
        }

        function saveWord() {
            const french = document.getElementById('input-french').value.trim();
            if (!french) {
                alert('Veuillez entrer le mot francais.');
                return;
            }

            const category = document.getElementById('input-category').value;
            const gender = document.getElementById('input-gender').value || null;
            const italianWord = document.getElementById('input-italian').value.trim();
            const greekWord = document.getElementById('input-greek').value.trim();
            const romanized = document.getElementById('input-romanized').value.trim();
            const greekMeaning = document.getElementById('input-greek-meaning').value.trim();
            const englishWord = document.getElementById('input-english').value.trim();

            const translations = {};
            if (italianWord) {
                translations.italian = { word: italianWord, gender: gender, conjugation: null };
            }
            if (greekWord) {
                translations.greek = { word: greekWord, romanized: romanized, meaning: greekMeaning, conjugation: null };
            }
            if (englishWord) {
                translations.english = { word: englishWord };
            }

            if (editingId) {
                const index = words.findIndex(w => w.id === editingId);
                if (index !== -1) {
                    words[index] = { ...words[index], french, category, gender, translations };
                }
            } else {
                const newWord = {
                    id: Date.now(),
                    french,
                    category,
                    gender,
                    translations,
                    custom: true
                };
                words.push(newWord);
            }

            saveWords();
            closeModal();
            render();
        }

        // ==================== FILTERING & SORTING ====================
        function getFilteredWords() {
            let filtered = words;

            // Language filter
            if (currentFilter === 'italian') {
                filtered = filtered.filter(w => w.translations?.italian);
            } else if (currentFilter === 'greek') {
                filtered = filtered.filter(w => w.translations?.greek);
            } else if (currentFilter === 'english') {
                filtered = filtered.filter(w => w.translations?.english);
            } else if (currentFilter === 'favorites') {
                filtered = filtered.filter(w => favorites.includes(w.id));
            }

            // Search filter
            if (searchQuery) {
                filtered = filtered.filter(w => {
                    const frenchMatch = w.french.toLowerCase().includes(searchQuery);
                    const italianMatch = w.translations?.italian?.word?.toLowerCase().includes(searchQuery);
                    const greekMatch = w.translations?.greek?.word?.toLowerCase().includes(searchQuery);
                    const romanizedMatch = w.translations?.greek?.romanized?.toLowerCase().includes(searchQuery);
                    const meaningMatch = w.translations?.greek?.meaning?.toLowerCase().includes(searchQuery);
                    const englishMatch = w.translations?.english?.word?.toLowerCase().includes(searchQuery);
                    return frenchMatch || italianMatch || greekMatch || romanizedMatch || meaningMatch || englishMatch;
                });
            }

            // Sorting
            filtered.sort((a, b) => {
                if (currentSort === 'alpha-asc') {
                    return a.french.localeCompare(b.french);
                } else if (currentSort === 'alpha-desc') {
                    return b.french.localeCompare(a.french);
                } else if (currentSort === 'category') {
                    return a.category.localeCompare(b.category) || a.french.localeCompare(b.french);
                }
                return 0;
            });

            return filtered;
        }

        // ==================== UI HELPERS ====================
        function updateUIForView() {
            const searchContainer = document.getElementById('search-container');
            const dictControls = document.getElementById('dict-controls');

            if (currentView === 'dictionary') {
                searchContainer.style.display = 'block';
                dictControls.style.display = 'flex';
            } else {
                searchContainer.style.display = 'none';
                dictControls.style.display = 'none';
            }
        }

        const langFlags = {
            french: '&#127467;&#127479;',
            italian: '&#127470;&#127481;',
            greek: '&#127468;&#127479;',
            english: '&#127468;&#127463;'
        };

        // ==================== RENDERING ====================
        function render() {
            const container = document.getElementById('word-list');

            // Stats for dictionary
            document.getElementById('total-count').textContent = words.length;
            document.getElementById('italian-count').textContent = words.filter(w => w.translations?.italian).length;
            document.getElementById('greek-count').textContent = words.filter(w => w.translations?.greek).length;

            if (currentView === 'texts') {
                if (currentTextId) {
                    renderTextDetail(container);
                } else {
                    renderTextsList(container);
                }
            } else {
                renderDictionary(container);
            }
        }

        function renderTextsList(container) {
            if (texts.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">&#128220;</div>
                        <p>Aucun texte disponible</p>
                    </div>
                `;
                return;
            }

            container.innerHTML = texts.map(t => `
                <div class="text-card" onclick="openText(${t.id})">
                    <div class="text-card-header">
                        <span class="text-num">${t.id}</span>
                        <div class="text-card-info">
                            <div class="text-card-title">${escapeHtml(t.title)}</div>
                            ${t.author ? `<div class="text-card-author">${escapeHtml(t.author)}</div>` : ''}
                        </div>
                    </div>
                    <div class="text-card-meta">
                        <div class="text-card-langs">
                            ${langFlags[t.sourceLanguage] || ''} → ${langFlags[t.targetLanguage] || ''}
                        </div>
                        <span>${t.sentences.length} vers</span>
                    </div>
                </div>
            `).join('');
        }

        function openText(textId) {
            currentTextId = textId;
            render();
        }

        function backToTexts() {
            currentTextId = null;
            render();
        }

        function renderTextDetail(container) {
            const text = texts.find(t => t.id === currentTextId);
            if (!text) return;

            let html = `
                <div class="text-header">
                    <div class="back-to-texts" onclick="backToTexts()">← Retour aux textes</div>
                    <div class="text-header-title">${escapeHtml(text.title)}</div>
                    <div class="text-header-meta">
                        ${text.author ? text.author + ' — ' : ''}${langFlags[text.sourceLanguage]} → ${langFlags[text.targetLanguage]}
                    </div>
                </div>
            `;

            html += text.sentences.map(s => `
                <div class="sentence-card">
                    <div class="sentence-content">
                        <span class="sentence-num">${s.num}</span>
                        <div class="sentence-text-area">
                            <div class="sentence-source">
                                ${renderSentenceTokens(text, s)}
                            </div>
                            <div class="sentence-translation">${escapeHtml(s.translation)}</div>
                        </div>
                    </div>
                </div>
            `).join('');

            container.innerHTML = html;
        }

        function renderSentenceTokens(text, sentence) {
            return sentence.tokens.map((token, idx) => {
                const word = words.find(w => w.id === token.wordId);
                const hasTranslation = word && word.translations && word.translations[text.targetLanguage];
                const cssClass = hasTranslation ? 'linked' : 'no-link';

                return `<span class="word-token ${cssClass}"
                    onclick="openWordFromSentence(${text.id}, ${sentence.num}, ${token.wordId})"
                    title="${token.lemma}${hasTranslation ? ' → ' + word.translations[text.targetLanguage].word : ''}"
                >${token.form}</span>${idx < sentence.tokens.length - 1 ? ' ' : ''}`;
            }).join('');
        }

        function renderDictionary(container) {
            const filtered = getFilteredWords();

            if (filtered.length === 0) {
                container.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">&#128218;</div>
                        <p>Aucun mot trouve</p>
                    </div>
                `;
                return;
            }

            container.innerHTML = filtered.map(word => `
                <div class="word-card" data-word-id="${word.id}">
                    <div class="word-header">
                        <div>
                            <span class="french-word">${escapeHtml(word.french)}</span>
                            <span class="category-badge">${word.category}</span>
                            ${word.gender ? `<span class="gender-badge gender-${word.gender}">${formatGender(word.gender)}</span>` : ''}
                            ${word.needsReview ? `<span class="review-badge">A VERIFIER</span>` : ''}
                        </div>
                        <div class="word-actions">
                            <button class="action-btn favorite ${favorites.includes(word.id) ? 'active' : ''}" onclick="toggleFavorite(${word.id})">
                                ${favorites.includes(word.id) ? '&#9829;' : '&#9825;'}
                            </button>
                            <button class="action-btn" onclick="openModal(${word.id})">&#9998;</button>
                        </div>
                    </div>
                    ${renderTranslations(word)}
                    ${renderAppearsIn(word.id)}
                </div>
            `).join('');
        }

        function renderAppearsIn(wordId) {
            const appearances = [];
            texts.forEach(text => {
                text.sentences.forEach(sentence => {
                    if (sentence.tokens.some(t => t.wordId === wordId)) {
                        appearances.push({
                            textId: text.id,
                            textTitle: text.title,
                            sentenceNum: sentence.num
                        });
                    }
                });
            });

            if (appearances.length === 0) return '';

            return `
                <div class="appears-in">
                    <span class="appears-in-label">Apparaît dans :</span>
                    ${appearances.map(a => `
                        <span class="appears-in-link" onclick="openWordFromSentence(${a.textId}, ${a.sentenceNum}, ${wordId})">
                            ${escapeHtml(a.textTitle)} v.${a.sentenceNum}
                        </span>
                    `).join(', ')}
                </div>
            `;
        }

        function openWordFromSentence(textId, sentenceNum, wordId) {
            const word = words.find(w => w.id === wordId);
            if (!word) return;

            currentTextId = textId;
            currentSentenceNum = sentenceNum;
            const text = texts.find(t => t.id === textId);
            const sentence = text?.sentences.find(s => s.num === sentenceNum);
            const currentToken = sentence?.tokens.find(t => t.wordId === wordId);

            const overlay = document.getElementById('word-detail-overlay');
            const contextDiv = document.getElementById('paragraph-context');
            const contentDiv = document.getElementById('word-detail-content');

            // Build sentence context with clickable words and word-per-word gloss
            if (text && sentence) {
                const clickableTokens = sentence.tokens.map((t, idx) => {
                    const isCurrentWord = t.wordId === wordId;
                    const tokenWord = words.find(w => w.id === t.wordId);
                    const hasTranslation = tokenWord && tokenWord.translations && tokenWord.translations[text.targetLanguage];

                    return `<span class="word-token ${isCurrentWord ? 'highlight' : ''} ${hasTranslation ? 'linked' : 'no-link'}"
                        onclick="openWordFromSentence(${textId}, ${sentenceNum}, ${t.wordId})"
                        title="${t.lemma}${hasTranslation ? ' → ' + tokenWord.translations[text.targetLanguage].word : ''}"
                    >${t.form}</span>${idx < sentence.tokens.length - 1 ? ' ' : ''}`;
                }).join('');

                // Build word-per-word gloss
                const glossTokens = sentence.tokens.map(t => {
                    const tokenWord = words.find(w => w.id === t.wordId);
                    return tokenWord ? tokenWord.french : '?';
                });
                const wordPerWordGloss = glossTokens.join(' · ');

                contextDiv.innerHTML = `
                    <div class="sentence-context-box">
                        <div class="sentence-context-header">
                            <span class="sentence-num">${sentence.num}</span>
                            <span style="font-size: 12px; color: var(--text-light);">${escapeHtml(text.title)}</span>
                        </div>
                        <div class="sentence-context-source">${clickableTokens}</div>
                        <div class="sentence-context-gloss">${wordPerWordGloss}</div>
                        <div class="sentence-context-translation">${escapeHtml(sentence.translation)}</div>
                    </div>
                `;
            }

            // Render the unified definition block
            contentDiv.innerHTML = renderWordDefinition(word, text?.targetLanguage, currentToken);

            overlay.classList.add('active');
        }

        function closeWordDetail() {
            document.getElementById('word-detail-overlay').classList.remove('active');
            currentTextId = null;
            currentSentenceNum = null;
        }

        function renderWordDefinition(word, targetLang, token) {
            // Get the source language translation data
            const text = texts.find(t => t.id === currentTextId);
            const sourceLang = text?.sourceLanguage;
            const sourceTranslation = word.translations?.[sourceLang];

            // Build form header if token has formInfo
            const formHeaderHtml = token ? `
                <div class="definition-form-header">
                    <span class="form-info-form">${token.form}</span>
                    <span class="form-info-arrow">→</span>
                    <span class="form-info-lemma">${token.lemma}</span>
                </div>
            ` : '';

            // Translation in target language (e.g., French for Greek texts)
            const translationHtml = `
                <div class="definition-translation">
                    <span class="definition-label">Traduction :</span>
                    <span class="definition-value">${escapeHtml(word.french)}</span>
                    <span class="category-badge">${word.category}</span>
                    ${word.gender ? `<span class="gender-badge gender-${word.gender}">${formatGender(word.gender)}</span>` : ''}
                </div>
            `;

            // Definition/meaning from source language
            const meaning = sourceTranslation?.meaning;
            const definitionHtml = meaning ? `
                <div class="definition-meaning">
                    <span class="definition-label">Définition :</span>
                    <span class="definition-value">${escapeHtml(meaning)}</span>
                </div>
            ` : '';

            // Usage in sentence (formInfo)
            const usageHtml = token?.formInfo ? `
                <div class="definition-usage">
                    <span class="definition-label">Emploi :</span>
                    <span class="definition-value">${token.formInfo}</span>
                </div>
            ` : '';

            return `
                <div class="word-definition-block">
                    ${formHeaderHtml}
                    ${translationHtml}
                    ${definitionHtml}
                    ${usageHtml}
                </div>
            `;
        }

        function renderTranslations(word, priorityLang = null) {
            const sections = [];

            // Italian
            if (word.translations?.italian) {
                const it = word.translations.italian;
                sections.push({
                    lang: 'italian',
                    html: `
                    <div class="translation-section italian">
                        <div class="translation-header">
                            <span class="lang-flag">&#127470;&#127481;</span>
                            <span class="lang-label">Italien</span>
                        </div>
                        <div class="translation-word">${escapeHtml(it.word)}</div>
                        ${it.gender ? `<span class="grammar-tag">${formatGender(it.gender)}</span>` : ''}
                        ${word.category === 'verbe' && it.conjugation ? renderItalianConjugation(word.id, it) : ''}
                    </div>
                `});
            }

            // Greek
            if (word.translations?.greek) {
                const gr = word.translations.greek;
                sections.push({
                    lang: 'greek',
                    html: `
                    <div class="translation-section greek">
                        <div class="translation-header">
                            <span class="lang-flag">&#127468;&#127479;</span>
                            <span class="lang-label">Grec ancien</span>
                        </div>
                        <div class="translation-word">
                            ${escapeHtml(gr.word)}
                            ${gr.romanized ? `<span class="romanized">(${escapeHtml(gr.romanized)})</span>` : ''}
                        </div>
                        ${gr.meaning ? `<div class="meaning">${escapeHtml(gr.meaning)}</div>` : ''}
                        ${gr.declension ? `<span class="grammar-tag">${gr.declension} decl.</span>` : ''}
                        ${gr.gender ? `<span class="grammar-tag">${formatGender(gr.gender)}</span>` : ''}
                        ${word.category === 'verbe' && gr.conjugation ? renderGreekConjugation(word.id, gr) : ''}
                        ${gr.example ? renderExample(gr.example) : ''}
                    </div>
                `});
            }

            // English
            if (word.translations?.english) {
                const en = word.translations.english;
                sections.push({
                    lang: 'english',
                    html: `
                    <div class="translation-section english">
                        <div class="translation-header">
                            <span class="lang-flag">&#127468;&#127463;</span>
                            <span class="lang-label">Anglais</span>
                        </div>
                        <div class="translation-word">${escapeHtml(en.word)}</div>
                    </div>
                `});
            }

            // Reorder if priority language specified
            if (priorityLang) {
                sections.sort((a, b) => {
                    if (a.lang === priorityLang) return -1;
                    if (b.lang === priorityLang) return 1;
                    return 0;
                });
            }

            return sections.map(s => s.html).join('');
        }

        function renderExample(example) {
            if (!example || !example.words) return '';

            const text = example.words.map(w => {
                if (w.id === null) {
                    return `<span>${escapeHtml(w.t)}</span>`;
                } else {
                    return `<span class="word-link" onclick="scrollToWord(${w.id})">${escapeHtml(w.t)}</span>`;
                }
            }).join(' ');

            return `
                <div class="example-sentence">
                    <div class="example-text">${text}</div>
                    <div class="example-translation">${escapeHtml(example.translation)}</div>
                </div>
            `;
        }

        // ==================== CONJUGATION ====================
        function renderItalianConjugation(wordId, it) {
            const forms = generateItalianConjugation(it.conjugation);
            if (!forms) return '';

            const tableId = `it-conj-${wordId}`;
            const persons = ['1sg', '2sg', '3sg', '1pl', '2pl', '3pl'];
            const labels = ['io', 'tu', 'lui/lei', 'noi', 'voi', 'loro'];

            const rows = labels.map((label, i) => `
                <tr>
                    <td>${label}</td>
                    <td>${forms[i] || '-'}</td>
                </tr>
            `).join('');

            return `
                <button class="conjugation-toggle" onclick="toggleTable('${tableId}', this)">
                    <span class="arrow">&#9660;</span> Conjugaison (presente)
                </button>
                <div class="conjugation-table" id="${tableId}">
                    <table>
                        <tr><th>Personne</th><th>Presente</th></tr>
                        ${rows}
                    </table>
                </div>
            `;
        }

        function generateItalianConjugation(conj) {
            if (!conj) return null;

            if (conj.forms) {
                return conj.forms;
            }

            const { type, stem } = conj;
            if (!stem) return null;

            if (type === 'are') {
                return [stem + 'o', stem + 'i', stem + 'a', stem + 'iamo', stem + 'ate', stem + 'ano'];
            } else if (type === 'ere') {
                return [stem + 'o', stem + 'i', stem + 'e', stem + 'iamo', stem + 'ete', stem + 'ono'];
            } else if (type === 'ire') {
                return [stem + 'o', stem + 'i', stem + 'e', stem + 'iamo', stem + 'ite', stem + 'ono'];
            } else if (type === 'ire-isc') {
                return [stem + 'isco', stem + 'isci', stem + 'isce', stem + 'iamo', stem + 'ite', stem + 'iscono'];
            }

            return null;
        }

        function renderGreekConjugation(wordId, gr) {
            const forms = generateGreekConjugation(gr.conjugation);
            if (!forms) return '';

            const tableId = `gr-conj-${wordId}`;
            const labels = ['1sg', '2sg', '3sg', '1pl', '2pl', '3pl'];

            const rows = labels.map((label, i) => `
                <tr>
                    <td>${label}</td>
                    <td>${forms.sg[i % 3] || '-'}</td>
                    <td>${forms.pl[i % 3] || '-'}</td>
                </tr>
            `).join('');

            return `
                <button class="conjugation-toggle" onclick="toggleTable('${tableId}', this)">
                    <span class="arrow">&#9660;</span> Conjugaison (presente)
                </button>
                <div class="conjugation-table" id="${tableId}">
                    <table>
                        <tr><th></th><th>Singulier</th><th>Pluriel</th></tr>
                        <tr><td>1e</td><td>${forms.sg[0]}</td><td>${forms.pl[0]}</td></tr>
                        <tr><td>2e</td><td>${forms.sg[1]}</td><td>${forms.pl[1]}</td></tr>
                        <tr><td>3e</td><td>${forms.sg[2]}</td><td>${forms.pl[2]}</td></tr>
                    </table>
                </div>
            `;
        }

        function generateGreekConjugation(conj) {
            if (!conj) return null;

            const { type, stem } = conj;

            if (type === 'ω-regular') {
                return {
                    sg: [stem + 'ω', stem + 'εις', stem + 'ει'],
                    pl: [stem + 'ομεν', stem + 'ετε', stem + 'ουσι(ν)']
                };
            } else if (type === 'ω-contract-ε') {
                return {
                    sg: [stem + 'ῶ', stem + 'εῖς', stem + 'εῖ'],
                    pl: [stem + 'οῦμεν', stem + 'εῖτε', stem + 'οῦσι(ν)']
                };
            } else if (type === 'εἰμί') {
                return {
                    sg: ['εἰμί', 'εἶ', 'ἐστί(ν)'],
                    pl: ['ἐσμέν', 'ἐστέ', 'εἰσί(ν)']
                };
            } else if (type === 'μι-verb') {
                // Simplified - would need specific handling per verb
                return null;
            } else if (type === 'deponent') {
                return {
                    sg: [stem + 'μαι', stem + 'σαι', stem + 'ται'],
                    pl: [stem + 'μεθα', stem + 'σθε', stem + 'νται']
                };
            }

            return null;
        }

        function toggleTable(tableId, btn) {
            const table = document.getElementById(tableId);
            if (table) {
                table.classList.toggle('open');
                btn.classList.toggle('open');
            }
        }

        // ==================== UTILITIES ====================
        function escapeHtml(text) {
            if (!text) return '';
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        function formatGender(g) {
            const genders = { 'm': 'masc.', 'f': 'fem.', 'n': 'neutre', 'm/f/n': 'tous' };
            return genders[g] || g;
        }

        function toggleFavorite(id) {
            const index = favorites.indexOf(id);
            if (index > -1) {
                favorites.splice(index, 1);
            } else {
                favorites.push(id);
            }
            saveFavorites();
            render();
        }

        function scrollToWord(id) {
            const word = words.find(w => w.id === id);
            if (!word) return;

            // Reset filter to show all
            if (currentFilter !== 'all') {
                document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                document.querySelector('[data-filter="all"]').classList.add('active');
                currentFilter = 'all';
            }

            // Clear search
            document.getElementById('search').value = '';
            searchQuery = '';

            render();

            setTimeout(() => {
                const card = document.querySelector(`[data-word-id="${id}"]`);
                if (card) {
                    card.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    card.style.boxShadow = '0 0 0 2px var(--accent)';
                    setTimeout(() => { card.style.boxShadow = ''; }, 1500);
                }
            }, 50);
        }

        // Start
        init();
    </script>
</body>
</html>
